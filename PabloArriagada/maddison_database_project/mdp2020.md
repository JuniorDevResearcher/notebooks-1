# Maddison Database Project

The goal in this notebook is to replicate the regional aggregations of GDP available in the Maddison Database Project v2020.

Three files are processed first, two from the [official release](https://www.rug.nl/ggdc/historicaldevelopment/maddison/releases/maddison-project-database-2020) of the Maddison Database Project (full data and regional data) and also a regional composition file, provided by Jutta Bolt


```python
import pandas as pd
import numpy as np
from pathlib import Path
from owid import catalog
import plotly.express as px
import plotly.io as pio
import time

#Loading MPD 2020
file = Path('data/mpd2020.xlsx')
mpd = pd.read_excel(file, sheet_name='Full data')

#Loading MPD 2020 - Regional data
file = Path('data/mpd2020.xlsx')
mpd_regional = pd.read_excel(file, sheet_name='Regional data', header=1)

#Loading Regional composition
file = Path('data/Regional composition_web.xlsx')
mpd_regionalcomp = pd.read_excel(file, sheet_name='Sheet2')
```

This is the structure of the Maddison Database:


```python
mpd
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>countrycode</th>
      <th>country</th>
      <th>year</th>
      <th>gdppc</th>
      <th>pop</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>1820</td>
      <td>NaN</td>
      <td>3280.00000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>1870</td>
      <td>NaN</td>
      <td>4207.00000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>1913</td>
      <td>NaN</td>
      <td>5730.00000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>1950</td>
      <td>1156.0000</td>
      <td>8150.00000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>1951</td>
      <td>1170.0000</td>
      <td>8284.00000</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>21677</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2014</td>
      <td>1594.0000</td>
      <td>13313.99205</td>
    </tr>
    <tr>
      <th>21678</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2015</td>
      <td>1560.0000</td>
      <td>13479.13812</td>
    </tr>
    <tr>
      <th>21679</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2016</td>
      <td>1534.0000</td>
      <td>13664.79457</td>
    </tr>
    <tr>
      <th>21680</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2017</td>
      <td>1582.3662</td>
      <td>13870.26413</td>
    </tr>
    <tr>
      <th>21681</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2018</td>
      <td>1611.4052</td>
      <td>14096.61179</td>
    </tr>
  </tbody>
</table>
<p>21682 rows × 5 columns</p>
</div>



The file is also available at OWID's `catalog`, which integrates both country and regional data to one dataset, drops the country code variable and adds a GDP column


```python
catalog.find(table="maddison")
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>table</th>
      <th>dataset</th>
      <th>version</th>
      <th>namespace</th>
      <th>channel</th>
      <th>is_public</th>
      <th>dimensions</th>
      <th>path</th>
      <th>format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>91</th>
      <td>maddison_gdp</td>
      <td>ggdc_maddison</td>
      <td>2020-10-01</td>
      <td>ggdc</td>
      <td>garden</td>
      <td>True</td>
      <td>["country", "year"]</td>
      <td>garden/ggdc/2020-10-01/ggdc_maddison/maddison_gdp</td>
      <td>feather</td>
    </tr>
  </tbody>
</table>
</div>




```python
mpd_catalog = catalog.find(table="maddison", dataset="ggdc_maddison").load()
mpd_df = pd.DataFrame(mpd_catalog)
mpd_df = mpd_df.reset_index()
mpd_df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>year</th>
      <th>gdp_per_capita</th>
      <th>population</th>
      <th>gdp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td>1820</td>
      <td>NaN</td>
      <td>3280000.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Afghanistan</td>
      <td>1870</td>
      <td>NaN</td>
      <td>4207000.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Afghanistan</td>
      <td>1913</td>
      <td>NaN</td>
      <td>5730000.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Afghanistan</td>
      <td>1950</td>
      <td>1156.000000</td>
      <td>8150000.0</td>
      <td>9.421400e+09</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Afghanistan</td>
      <td>1951</td>
      <td>1170.000000</td>
      <td>8284000.0</td>
      <td>9.692280e+09</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>21849</th>
      <td>Zimbabwe</td>
      <td>2014</td>
      <td>1594.000000</td>
      <td>13313992.0</td>
      <td>2.122250e+10</td>
    </tr>
    <tr>
      <th>21850</th>
      <td>Zimbabwe</td>
      <td>2015</td>
      <td>1560.000000</td>
      <td>13479138.0</td>
      <td>2.102745e+10</td>
    </tr>
    <tr>
      <th>21851</th>
      <td>Zimbabwe</td>
      <td>2016</td>
      <td>1534.000000</td>
      <td>13664795.0</td>
      <td>2.096179e+10</td>
    </tr>
    <tr>
      <th>21852</th>
      <td>Zimbabwe</td>
      <td>2017</td>
      <td>1582.366211</td>
      <td>13870264.0</td>
      <td>2.194784e+10</td>
    </tr>
    <tr>
      <th>21853</th>
      <td>Zimbabwe</td>
      <td>2018</td>
      <td>1611.405151</td>
      <td>14096612.0</td>
      <td>2.271535e+10</td>
    </tr>
  </tbody>
</table>
<p>21854 rows × 5 columns</p>
</div>



From the dataset coming from the catalog the regional aggregations are extracted to compare them with recontructed aggregations.


```python
#Gets the entire list of countries/regions
list(mpd_df['country'].unique())
```




    ['Afghanistan',
     'Albania',
     'Algeria',
     'Angola',
     'Argentina',
     'Armenia',
     'Australia',
     'Austria',
     'Azerbaijan',
     'Bahrain',
     'Bangladesh',
     'Barbados',
     'Belarus',
     'Belgium',
     'Benin',
     'Bolivia',
     'Bosnia and Herzegovina',
     'Botswana',
     'Brazil',
     'Bulgaria',
     'Burkina Faso',
     'Burundi',
     'Cambodia',
     'Cameroon',
     'Canada',
     'Cape Verde',
     'Central African Republic',
     'Chad',
     'Chile',
     'China',
     'Colombia',
     'Comoros',
     'Congo',
     'Costa Rica',
     "Cote d'Ivoire",
     'Croatia',
     'Cuba',
     'Cyprus',
     'Czechia',
     'Czechoslovakia',
     'Democratic Republic of Congo',
     'Denmark',
     'Djibouti',
     'Dominica',
     'Dominican Republic',
     'East Asia',
     'Eastern Europe',
     'Ecuador',
     'Egypt',
     'El Salvador',
     'Equatorial Guinea',
     'Estonia',
     'Eswatini',
     'Ethiopia',
     'Finland',
     'Former Sudan',
     'France',
     'Gabon',
     'Gambia',
     'Georgia',
     'Germany',
     'Ghana',
     'Greece',
     'Guatemala',
     'Guinea',
     'Guinea-Bissau',
     'Haiti',
     'Honduras',
     'Hong Kong',
     'Hungary',
     'Iceland',
     'India',
     'Indonesia',
     'Iran',
     'Iraq',
     'Ireland',
     'Israel',
     'Italy',
     'Jamaica',
     'Japan',
     'Jordan',
     'Kazakhstan',
     'Kenya',
     'Kuwait',
     'Kyrgyzstan',
     'Laos',
     'Latin America',
     'Latvia',
     'Lebanon',
     'Lesotho',
     'Liberia',
     'Libya',
     'Lithuania',
     'Luxembourg',
     'Madagascar',
     'Malawi',
     'Malaysia',
     'Mali',
     'Malta',
     'Mauritania',
     'Mauritius',
     'Mexico',
     'Middle East',
     'Moldova',
     'Mongolia',
     'Montenegro',
     'Morocco',
     'Mozambique',
     'Myanmar',
     'Namibia',
     'Nepal',
     'Netherlands',
     'New Zealand',
     'Nicaragua',
     'Niger',
     'Nigeria',
     'North Korea',
     'North Macedonia',
     'Norway',
     'Oman',
     'Pakistan',
     'Palestine',
     'Panama',
     'Paraguay',
     'Peru',
     'Philippines',
     'Poland',
     'Portugal',
     'Puerto Rico',
     'Qatar',
     'Romania',
     'Russia',
     'Rwanda',
     'Saint Lucia',
     'Sao Tome and Principe',
     'Saudi Arabia',
     'Senegal',
     'Serbia',
     'Seychelles',
     'Sierra Leone',
     'Singapore',
     'Slovakia',
     'Slovenia',
     'South Africa',
     'South Korea',
     'South and South-East Asia',
     'Spain',
     'Sri Lanka',
     'Sub-Sahara Africa',
     'Sweden',
     'Switzerland',
     'Syria',
     'Taiwan',
     'Tajikistan',
     'Tanzania',
     'Thailand',
     'Togo',
     'Trinidad and Tobago',
     'Tunisia',
     'Turkey',
     'Turkmenistan',
     'USSR',
     'Uganda',
     'Ukraine',
     'United Arab Emirates',
     'United Kingdom',
     'United States',
     'Uruguay',
     'Uzbekistan',
     'Venezuela',
     'Vietnam',
     'Western Europe',
     'Western Offshoots',
     'World',
     'Yemen',
     'Yugoslavia',
     'Zambia',
     'Zimbabwe']




```python
#Filters the regions only
mpd_df_regions = mpd_df[mpd_df['country'].isin(['Western Europe', 'Eastern Europe', 'Western Offshoots', 'Latin America',
                           'East Asia', 'South and South-East Asia', 'Middle East', 'Sub-Sahara Africa'])].copy().reset_index(drop=True)
mpd_df_regions
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>year</th>
      <th>gdp_per_capita</th>
      <th>population</th>
      <th>gdp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>East Asia</td>
      <td>1820</td>
      <td>1088.584961</td>
      <td>427756992.0</td>
      <td>4.656498e+11</td>
    </tr>
    <tr>
      <th>1</th>
      <td>East Asia</td>
      <td>1850</td>
      <td>899.657654</td>
      <td>455774016.0</td>
      <td>4.100406e+11</td>
    </tr>
    <tr>
      <th>2</th>
      <td>East Asia</td>
      <td>1870</td>
      <td>989.477173</td>
      <td>409152992.0</td>
      <td>4.048476e+11</td>
    </tr>
    <tr>
      <th>3</th>
      <td>East Asia</td>
      <td>1900</td>
      <td>1086.328491</td>
      <td>457057984.0</td>
      <td>4.965151e+11</td>
    </tr>
    <tr>
      <th>4</th>
      <td>East Asia</td>
      <td>1920</td>
      <td>1160.000000</td>
      <td>543904000.0</td>
      <td>6.309286e+11</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>151</th>
      <td>Western Offshoots</td>
      <td>2000</td>
      <td>44329.269531</td>
      <td>336264992.0</td>
      <td>1.490638e+13</td>
    </tr>
    <tr>
      <th>152</th>
      <td>Western Offshoots</td>
      <td>2010</td>
      <td>48090.152344</td>
      <td>370321984.0</td>
      <td>1.780884e+13</td>
    </tr>
    <tr>
      <th>153</th>
      <td>Western Offshoots</td>
      <td>2016</td>
      <td>51667.976562</td>
      <td>389729984.0</td>
      <td>2.013656e+13</td>
    </tr>
    <tr>
      <th>154</th>
      <td>Western Offshoots</td>
      <td>2017</td>
      <td>52597.218750</td>
      <td>391730080.0</td>
      <td>2.060391e+13</td>
    </tr>
    <tr>
      <th>155</th>
      <td>Western Offshoots</td>
      <td>2018</td>
      <td>53756.496094</td>
      <td>394735936.0</td>
      <td>2.121962e+13</td>
    </tr>
  </tbody>
</table>
<p>156 rows × 5 columns</p>
</div>




```python
#Checks which regions are available after the filter
list(mpd_df_regions['country'].unique())
```




    ['East Asia',
     'Eastern Europe',
     'Latin America',
     'Middle East',
     'South and South-East Asia',
     'Sub-Sahara Africa',
     'Western Europe',
     'Western Offshoots']



From the regional composition file the countries per each region in different years are extracted and merged with the country data.


```python
#Shows the regional composition file structure
mpd_regionalcomp
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>year</th>
      <th>region</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ITA</td>
      <td>1820</td>
      <td>Western Europe</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NLD</td>
      <td>1820</td>
      <td>Western Europe</td>
    </tr>
    <tr>
      <th>2</th>
      <td>PRT</td>
      <td>1820</td>
      <td>Western Europe</td>
    </tr>
    <tr>
      <th>3</th>
      <td>SWE</td>
      <td>1820</td>
      <td>Western Europe</td>
    </tr>
    <tr>
      <th>4</th>
      <td>GBR</td>
      <td>1820</td>
      <td>Western Europe</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>299</th>
      <td>ZWE</td>
      <td>1950</td>
      <td>Sub Saharan Africa</td>
    </tr>
    <tr>
      <th>300</th>
      <td>AUS</td>
      <td>1950</td>
      <td>Western Offshoots</td>
    </tr>
    <tr>
      <th>301</th>
      <td>CAN</td>
      <td>1950</td>
      <td>Western Offshoots</td>
    </tr>
    <tr>
      <th>302</th>
      <td>NZL</td>
      <td>1950</td>
      <td>Western Offshoots</td>
    </tr>
    <tr>
      <th>303</th>
      <td>USA</td>
      <td>1950</td>
      <td>Western Offshoots</td>
    </tr>
  </tbody>
</table>
<p>304 rows × 3 columns</p>
</div>




```python
mpd_withregions = pd.merge(mpd, mpd_regionalcomp, left_on=['countrycode','year'], right_on=['country','year'], how='left', validate='many_to_many')
mpd_withregions
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>countrycode</th>
      <th>country_x</th>
      <th>year</th>
      <th>gdppc</th>
      <th>pop</th>
      <th>country_y</th>
      <th>region</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>1820</td>
      <td>NaN</td>
      <td>3280.00000</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>1870</td>
      <td>NaN</td>
      <td>4207.00000</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>1913</td>
      <td>NaN</td>
      <td>5730.00000</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>1950</td>
      <td>1156.0000</td>
      <td>8150.00000</td>
      <td>AFG</td>
      <td>South and South East Asia</td>
    </tr>
    <tr>
      <th>4</th>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>1951</td>
      <td>1170.0000</td>
      <td>8284.00000</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>21678</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2014</td>
      <td>1594.0000</td>
      <td>13313.99205</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>21679</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2015</td>
      <td>1560.0000</td>
      <td>13479.13812</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>21680</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2016</td>
      <td>1534.0000</td>
      <td>13664.79457</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>21681</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2017</td>
      <td>1582.3662</td>
      <td>13870.26413</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>21682</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2018</td>
      <td>1611.4052</td>
      <td>14096.61179</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>21683 rows × 7 columns</p>
</div>



Only non-null regions and estimates are kept.


```python
mpd_withregions_notnull = mpd_withregions[~mpd_withregions['region'].isnull()].copy().reset_index(drop=True)
mpd_withregions_notnull = mpd_withregions_notnull.dropna(subset=['gdppc', 'pop']).copy().reset_index(drop=True)

mpd_withregions_notnull
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>countrycode</th>
      <th>country_x</th>
      <th>year</th>
      <th>gdppc</th>
      <th>pop</th>
      <th>country_y</th>
      <th>region</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>1950</td>
      <td>1156.0</td>
      <td>8150.000</td>
      <td>AFG</td>
      <td>South and South East Asia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AGO</td>
      <td>Angola</td>
      <td>1950</td>
      <td>1677.0</td>
      <td>4117.617</td>
      <td>AGO</td>
      <td>Sub Saharan Africa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ARE</td>
      <td>United Arab Emirates</td>
      <td>1950</td>
      <td>25182.0</td>
      <td>71.520</td>
      <td>ARE</td>
      <td>Middle East</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ARG</td>
      <td>Argentina</td>
      <td>1820</td>
      <td>1591.0</td>
      <td>534.000</td>
      <td>ARG</td>
      <td>Latin America</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ARG</td>
      <td>Argentina</td>
      <td>1890</td>
      <td>3851.0</td>
      <td>3376.000</td>
      <td>ARG</td>
      <td>Latin America</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>293</th>
      <td>VNM</td>
      <td>Viet Nam</td>
      <td>1950</td>
      <td>1049.0</td>
      <td>25348.144</td>
      <td>VNM</td>
      <td>South and South East Asia</td>
    </tr>
    <tr>
      <th>294</th>
      <td>YEM</td>
      <td>Yemen</td>
      <td>1950</td>
      <td>1452.0</td>
      <td>4777.089</td>
      <td>YEM</td>
      <td>Middle East</td>
    </tr>
    <tr>
      <th>295</th>
      <td>ZAF</td>
      <td>South Africa</td>
      <td>1950</td>
      <td>4041.0</td>
      <td>13595.840</td>
      <td>ZAF</td>
      <td>Sub Saharan Africa</td>
    </tr>
    <tr>
      <th>296</th>
      <td>ZMB</td>
      <td>Zambia</td>
      <td>1950</td>
      <td>1054.0</td>
      <td>2553.000</td>
      <td>ZMB</td>
      <td>Sub Saharan Africa</td>
    </tr>
    <tr>
      <th>297</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>1950</td>
      <td>1117.0</td>
      <td>2853.151</td>
      <td>ZWE</td>
      <td>Sub Saharan Africa</td>
    </tr>
  </tbody>
</table>
<p>298 rows × 7 columns</p>
</div>



From this the reconstructed aggregations are made, strictly using the countries and years defined in the regional composition file.


```python
mpd_withregions_notnull['gdp'] = mpd_withregions_notnull['gdppc'] * mpd_withregions_notnull['pop']

region_list = list(mpd_withregions_notnull['region'].unique())
region_list.sort()
year_list = list(mpd_withregions_notnull['year'].unique())
year_list.sort()

regionaldata = pd.DataFrame() #creates an empty dataframe to use it in the following interation

for i in year_list: #for each year with regional data
    db_peryear = mpd_withregions_notnull[mpd_withregions_notnull['year']==i].copy().reset_index(drop=True) #dataframe with data from country i
    
    for j in region_list:
        db_peryear_region = db_peryear[db_peryear['region']==j].copy().reset_index(drop=True)
        db_aux = pd.DataFrame()
    
        db_aux.loc[0,'year'] = i #assigns country i
        db_aux.loc[0,'region'] = j #assigns country i
        
        db_aux.loc[0,'gdp_sum'] = db_peryear_region['gdp'].sum()
        db_aux.loc[0,'pop_sum'] = db_peryear_region['pop'].sum()
        
        #regionaldata = regionaldata.append(db_aux, ignore_index=True)
        regionaldata = pd.concat([regionaldata, db_aux], ignore_index=True)
    
regionaldata['gdppc'] = regionaldata['gdp_sum']/regionaldata['pop_sum']
regionaldata.loc[regionaldata['region'] == 'South and South East Asia', 'region'] = 'South and South-East Asia'
regionaldata.loc[regionaldata['region'] == 'Sub Saharan Africa', 'region'] = 'Sub-Sahara Africa'
regionaldata
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>region</th>
      <th>gdp_sum</th>
      <th>pop_sum</th>
      <th>gdppc</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1820.0</td>
      <td>East Asia</td>
      <td>376869000.0</td>
      <td>412000.0</td>
      <td>914.730583</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1820.0</td>
      <td>Eastern Europe</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1820.0</td>
      <td>Latin America</td>
      <td>14954460.0</td>
      <td>15695.0</td>
      <td>952.816821</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1820.0</td>
      <td>Middle East</td>
      <td>9812076.0</td>
      <td>10074.0</td>
      <td>974.000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1820.0</td>
      <td>South and South-East Asia</td>
      <td>14825629.0</td>
      <td>17927.0</td>
      <td>827.000000</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>99</th>
      <td>1990.0</td>
      <td>Middle East</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>100</th>
      <td>1990.0</td>
      <td>South and South-East Asia</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>101</th>
      <td>1990.0</td>
      <td>Sub-Sahara Africa</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>102</th>
      <td>1990.0</td>
      <td>Western Europe</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>103</th>
      <td>1990.0</td>
      <td>Western Offshoots</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>104 rows × 5 columns</p>
</div>



The `comparison` dataframe is a join between the official and reconstructed regional data, where a `ratio` variable is introduced as the division between the reconstructed GDP pc value and the official. Consequentially, if both values are equal this ratio would be 1.


```python
comparison = pd.merge(regionaldata, mpd_df_regions, left_on=['year','region'], right_on=['year','country'], how='left', validate='many_to_many')
comparison['ratio'] = comparison['gdppc']/comparison['gdp_per_capita']
comparison[['ratio']].describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>32.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.123233</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.533273</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.822460</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.989713</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.013136</td>
    </tr>
    <tr>
      <th>max</th>
      <td>3.587361</td>
    </tr>
  </tbody>
</table>
</div>



This ratio is close to 1 on average, but there are differences between the recalculation and the official data, which can be seen in this graph:


```python
pio.renderers.default = "notebook_connected" #"png" for GitHub, "notebook_connected" for local analysis

fig = px.scatter(comparison, x="year", y="ratio", 
                 hover_data=['gdppc', 'gdp_per_capita'], opacity=0.5, color='region', 
                 title="Regional GDP pc comparison: Maddison vs. Reconstructed Maddison",
                 log_x=False,
                 log_y=False,
                labels={
                     "ratio": "Reconstructed/Original: 1=equal",
                     "year": "Year",
                     "region": "Region"
                 })

fig.update_traces(marker=dict(size=20, line=dict(width=0, color='blue')))
fig.show()
```


<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.11.1.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>




<div>                            <div id="0e0df23c-c2ce-4877-a476-534bce43ebe1" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("0e0df23c-c2ce-4877-a476-534bce43ebe1")) {                    Plotly.newPlot(                        "0e0df23c-c2ce-4877-a476-534bce43ebe1",                        [{"customdata":[[914.7305825242719,1088.5849609375],[null,null],[null,null],[899.6576576576576,899.6576538085938],[null,null],[1000.7223070199802,989.4771728515625],[null,null],[null,1086.3284912109375],[null,null],[2973.9623,1160.0],[4882.3985,1361.0],[1106.0358353404702,1121.6673583984375],[null,6121.29052734375]],"hovertemplate":"Region=East Asia<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"East Asia","marker":{"color":"#636efa","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"East Asia","orientation":"v","showlegend":true,"x":[1820.0,1830.0,1840.0,1850.0,1860.0,1870.0,1890.0,1900.0,1910.0,1920.0,1940.0,1950.0,1990.0],"xaxis":"x","y":[0.8402932387900132,null,null,1.000000004278365,null,1.011364723186095,null,null,null,2.563760603448276,3.587361131520941,0.9860640296421868,null],"yaxis":"y","type":"scatter"},{"customdata":[[null,818.0],[null,942.0],[null,907.0],[null,985.0],[null,1358.0],[null,1575.0],[null,2204.0],[null,2700.0],[2432.5679097678217,2282.571533203125],[null,1342.734619140625],[null,3209.0],[3357.3657051167766,4082.10302734375],[8725.2763666074,10343.8740234375]],"hovertemplate":"Region=Eastern Europe<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Eastern Europe","marker":{"color":"#EF553B","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Eastern Europe","orientation":"v","showlegend":true,"x":[1820.0,1830.0,1840.0,1850.0,1860.0,1870.0,1890.0,1900.0,1910.0,1920.0,1940.0,1950.0,1990.0],"xaxis":"x","y":[null,null,null,null,null,null,null,null,1.0657137681701512,null,null,0.8224598160868652,0.8435211359725935],"yaxis":"y","type":"scatter"},{"customdata":[[952.8168206435171,952.8168334960938],[null,null],[null,null],[null,1080.6573486328125],[null,1588.0],[null,1318.5411376953125],[1672.8129619375497,1672.81298828125],[1724.3704576924517,1750.626708984375],[2189.370241849097,2193.53955078125],[2332.3685498897835,2330.639892578125],[2984.4152180250717,3024.265380859375],[3678.345900154525,3712.964111328125],[null,8132.15673828125]],"hovertemplate":"Region=Latin America<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Latin America","marker":{"color":"#00cc96","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Latin America","orientation":"v","showlegend":true,"x":[1820.0,1830.0,1840.0,1850.0,1860.0,1870.0,1890.0,1900.0,1910.0,1920.0,1940.0,1950.0,1990.0],"xaxis":"x","y":[0.9999999865109681,null,null,null,null,null,0.9999999842518558,0.9850017989802315,0.9980992779771544,1.000741709312178,0.9868231924729504,0.9906763948867751,null],"yaxis":"y","type":"scatter"},{"customdata":[[974.0,974.0],[null,null],[null,null],[null,1000.0],[null,null],[null,1165.0],[null,null],[null,1300.0],[null,null],[null,900.0],[null,2146.0],[2294.865875135827,2393.030029296875],[null,6435.13134765625]],"hovertemplate":"Region=Middle East<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Middle East","marker":{"color":"#ab63fa","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Middle East","orientation":"v","showlegend":true,"x":[1820.0,1830.0,1840.0,1850.0,1860.0,1870.0,1890.0,1900.0,1910.0,1920.0,1940.0,1950.0,1990.0],"xaxis":"x","y":[1.0,null,null,null,null,null,null,null,null,null,null,0.958979138180773,null],"yaxis":"y","type":"scatter"},{"customdata":[[827.0,929.0],[null,null],[null,null],[null,929.0],[null,null],[850.3465717484204,850.3465576171875],[null,950.9992065429688],[null,994.4190063476562],[null,1143.1175537109375],[1116.9941688050585,1116.831787109375],[1261.4372743082874,1235.0],[1085.4270874246329,1069.7144775390625],[null,2573.6806640625]],"hovertemplate":"Region=South and South-East Asia<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"South and South-East Asia","marker":{"color":"#FFA15A","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"South and South-East Asia","orientation":"v","showlegend":true,"x":[1820.0,1830.0,1840.0,1850.0,1860.0,1870.0,1890.0,1900.0,1910.0,1920.0,1940.0,1950.0,1990.0],"xaxis":"x","y":[0.8902045209903121,null,null,null,null,1.0000000166182044,null,null,null,1.000145394944483,1.021406699844767,1.014688601692779,null],"yaxis":"y","type":"scatter"},{"customdata":[[null,800.0],[null,null],[null,null],[null,800.0],[null,null],[null,800.0],[null,null],[null,850.0],[null,null],[null,950.0],[null,1100.0],[1317.8648290493124,1322.68505859375],[null,1800.77685546875]],"hovertemplate":"Region=Sub-Sahara Africa<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Sub-Sahara Africa","marker":{"color":"#19d3f3","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Sub-Sahara Africa","orientation":"v","showlegend":true,"x":[1820.0,1830.0,1840.0,1850.0,1860.0,1870.0,1890.0,1900.0,1910.0,1920.0,1940.0,1950.0,1990.0],"xaxis":"x","y":[null,null,null,null,null,null,null,null,null,null,null,0.9963557239018317,null],"yaxis":"y","type":"scatter"},{"customdata":[[2824.204243826837,2306.966796875],[2519.013618589368,2384.314453125],[2799.418556179634,2579.534912109375],[2681.3047317588007,2678.0],[3072.284313816078,3034.0],[null,3301.304931640625],[null,4079.31396484375],[null,4724.2958984375],[null,5134.75927734375],[null,4883.5390625],[null,7184.53076171875],[7263.256448458441,7263.26171875],[null,25440.03515625]],"hovertemplate":"Region=Western Europe<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Western Europe","marker":{"color":"#FF6692","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Western Europe","orientation":"v","showlegend":true,"x":[1820.0,1830.0,1840.0,1850.0,1860.0,1870.0,1890.0,1900.0,1910.0,1920.0,1940.0,1950.0,1990.0],"xaxis":"x","y":[1.224206714917823,1.0564938761696574,1.0852415848446308,1.0012340297829727,1.012618429075833,null,null,null,null,null,null,0.9999992743905199,null],"yaxis":"y","type":"scatter"},{"customdata":[[2513.0454178612767,2513.04541015625],[null,null],[null,null],[null,3474.41015625],[null,4214.44091796875],[null,4647.4541015625],[null,6480.95556640625],[null,7740.8505859375],[null,9354.69140625],[null,9741.4228515625],[null,11620.5009765625],[14773.20645296759,14773.2216796875],[null,35619.375]],"hovertemplate":"Region=Western Offshoots<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Western Offshoots","marker":{"color":"#B6E880","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Western Offshoots","orientation":"v","showlegend":true,"x":[1820.0,1830.0,1840.0,1850.0,1860.0,1870.0,1890.0,1900.0,1910.0,1920.0,1940.0,1950.0,1990.0],"xaxis":"x","y":[1.0000000030660117,null,null,null,null,null,null,null,null,null,null,0.9999989693026856,null],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Reconstructed/Original: 1=equal"}},"legend":{"title":{"text":"Region"},"tracegroupgap":0},"title":{"text":"Regional GDP pc comparison: Maddison vs. Reconstructed Maddison"}},                        {"responsive": true}                    ).then(function(){

var gd = document.getElementById('0e0df23c-c2ce-4877-a476-534bce43ebe1');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>


Two of the most clear differences are in for East Asia in 1940 (ratio 3.6) and 1920 (2.6), with a ratio of 2.56, which means the reconstruction is twice and three times the official estimates. For the case of 1920:


```python
comparison[(comparison['region'] == 'East Asia') & (comparison['year'] == 1920)]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>region</th>
      <th>gdp_sum</th>
      <th>pop_sum</th>
      <th>gdppc</th>
      <th>country</th>
      <th>gdp_per_capita</th>
      <th>population</th>
      <th>gdp</th>
      <th>ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>72</th>
      <td>1920.0</td>
      <td>East Asia</td>
      <td>1.660006e+08</td>
      <td>55818.0</td>
      <td>2973.9623</td>
      <td>East Asia</td>
      <td>1160.0</td>
      <td>543904000.0</td>
      <td>6.309286e+11</td>
      <td>2.563761</td>
    </tr>
  </tbody>
</table>
</div>



The big difference is explained by the lack of GDP pc data for China in 1920. East Asia in 1920 is defined as Japan and China:


```python
mpd_withregions[(mpd_withregions['region'] == 'East Asia') & (mpd_withregions['year'] == 1920)]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>countrycode</th>
      <th>country_x</th>
      <th>year</th>
      <th>gdppc</th>
      <th>pop</th>
      <th>country_y</th>
      <th>region</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3054</th>
      <td>CHN</td>
      <td>China</td>
      <td>1920</td>
      <td>NaN</td>
      <td>472000.0</td>
      <td>CHN</td>
      <td>East Asia</td>
    </tr>
    <tr>
      <th>10546</th>
      <td>JPN</td>
      <td>Japan</td>
      <td>1920</td>
      <td>2973.9623</td>
      <td>55818.0</td>
      <td>JPN</td>
      <td>East Asia</td>
    </tr>
  </tbody>
</table>
</div>




```python
mpd_withregions_notnull[(mpd_withregions_notnull['region'] == 'East Asia') & (mpd_withregions_notnull['year'] == 1920)]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>countrycode</th>
      <th>country_x</th>
      <th>year</th>
      <th>gdppc</th>
      <th>pop</th>
      <th>country_y</th>
      <th>region</th>
      <th>gdp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>158</th>
      <td>JPN</td>
      <td>Japan</td>
      <td>1920</td>
      <td>2973.9623</td>
      <td>55818.0</td>
      <td>JPN</td>
      <td>East Asia</td>
      <td>1.660006e+08</td>
    </tr>
  </tbody>
</table>
</div>



But this is not the only explanation to the differences, because for example Eastern Europe in 1950 is composed of five countries (Bulgaria, Cszechoslovakia, Hungary, Poland, Romania) and they all have data for 1950. The ratio is 0.82 though.


```python
comparison[(comparison['region'] == 'Eastern Europe') & (comparison['year'] == 1950)]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>region</th>
      <th>gdp_sum</th>
      <th>pop_sum</th>
      <th>gdppc</th>
      <th>country</th>
      <th>gdp_per_capita</th>
      <th>population</th>
      <th>gdp</th>
      <th>ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>89</th>
      <td>1950.0</td>
      <td>Eastern Europe</td>
      <td>235393303.0</td>
      <td>70112.5</td>
      <td>3357.365705</td>
      <td>Eastern Europe</td>
      <td>4082.103027</td>
      <td>265982000.0</td>
      <td>1.085766e+12</td>
      <td>0.82246</td>
    </tr>
  </tbody>
</table>
</div>




```python
mpd_withregions[(mpd_withregions['region'] == 'Eastern Europe') & (mpd_withregions['year'] == 1950)]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>countrycode</th>
      <th>country_x</th>
      <th>year</th>
      <th>gdppc</th>
      <th>pop</th>
      <th>country_y</th>
      <th>region</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1546</th>
      <td>BGR</td>
      <td>Bulgaria</td>
      <td>1950</td>
      <td>2632.0</td>
      <td>7250.5</td>
      <td>BGR</td>
      <td>Eastern Europe</td>
    </tr>
    <tr>
      <th>3886</th>
      <td>CSK</td>
      <td>Czechoslovakia</td>
      <td>1950</td>
      <td>5581.0</td>
      <td>12389.0</td>
      <td>CSK</td>
      <td>Eastern Europe</td>
    </tr>
    <tr>
      <th>8541</th>
      <td>HUN</td>
      <td>Hungary</td>
      <td>1950</td>
      <td>3953.0</td>
      <td>9338.0</td>
      <td>HUN</td>
      <td>Eastern Europe</td>
    </tr>
    <tr>
      <th>16118</th>
      <td>POL</td>
      <td>Poland</td>
      <td>1950</td>
      <td>3900.0</td>
      <td>24824.0</td>
      <td>POL</td>
      <td>Eastern Europe</td>
    </tr>
    <tr>
      <th>17258</th>
      <td>ROU</td>
      <td>Romania</td>
      <td>1950</td>
      <td>824.0</td>
      <td>16311.0</td>
      <td>ROU</td>
      <td>Eastern Europe</td>
    </tr>
  </tbody>
</table>
</div>




```python
#Exports the comparison

#comparison_excel = comparison[['year', 'region', 'gdp_sum', 'pop_sum', 'gdppc', 'gdp', 'population', 'gdp_per_capita', 'ratio']]
#comparison_excel = comparison_excel.dropna(subset=['ratio']).copy().reset_index(drop=True)

#file = Path('data/comparison.xlsx')
#comparison_excel.to_excel(file, index=False)
```

What is the reason for the difference then? For v2020 there is not information about how regional calculations are estimated, but at least for v2018 there is a [regional data file](https://www.rug.nl/ggdc/historicaldevelopment/maddison/data/mpd2018_region_data.xlsx) which shows this:
![image.png](attachment:image.png)

It is necessary then to estimate GDP growth values to apply them to the 1950 estimates. The variable `growth` estimates the difference between the GDP pc from one year and country and the value from the same country in the previous year.


```python
for i in range(len(mpd)): #runs for the entire length of th dataframe
    country = mpd['countrycode'][i] #gets the country from row i
    year = mpd['year'][i] #gets the year from row i
    try:
        #gets the gdp from "country" the year before to "year"
        gdp_yearbefore = mpd.loc[(mpd['countrycode'] == country) & (mpd['year'] == year-1), 'gdppc'].iloc[0]
    except: #in case of error (no row available, no year before)
        gdp_yearbefore = None
    mpd.loc[i,'gdppc_yearbefore'] = gdp_yearbefore #assigns the gdp from the previous year to the following year's row
    
mpd['growth'] = mpd['gdppc']/mpd['gdppc_yearbefore']-1
```

Data manipulation is necessary for the MDP coming from `catalog` to be merged with the rest of datasets


```python
mpd_join = pd.merge(mpd_df, mpd[['country','countrycode']], on='country', how='left',validate='many_to_many' )
mpd_join_nullcode = mpd_join[mpd_join['countrycode'].isnull()].copy().reset_index(drop=True)
```


```python
#Countries with no country code in mpd_df 
mpd_join_nullcode['country'].unique()
```




    array(['Bolivia', 'Cape Verde', "Cote d'Ivoire", 'Czechia',
           'Democratic Republic of Congo', 'East Asia', 'Eastern Europe',
           'Eswatini', 'Former Sudan', 'Hong Kong', 'Iran', 'Laos',
           'Latin America', 'Middle East', 'Moldova', 'North Korea',
           'North Macedonia', 'Palestine', 'Russia', 'South Korea',
           'South and South-East Asia', 'Sub-Sahara Africa', 'Syria',
           'Taiwan', 'Tanzania', 'USSR', 'Venezuela', 'Vietnam',
           'Western Europe', 'Western Offshoots', 'World', 'Yugoslavia'],
          dtype=object)




```python
#Adding the missing country codes
mpd_join.loc[mpd_join['country'] == 'Bolivia', 'countrycode'] = 'BOL'
mpd_join.loc[mpd_join['country'] == 'Cape Verde', 'countrycode'] = 'CPV'
mpd_join.loc[mpd_join['country'] == "Cote d'Ivoire", 'countrycode'] = 'CIV'
mpd_join.loc[mpd_join['country'] == 'Czechia', 'countrycode'] = 'CZE'
mpd_join.loc[mpd_join['country'] == 'Democratic Republic of Congo', 'countrycode'] = 'COD'
mpd_join.loc[mpd_join['country'] == 'Eswatini', 'countrycode'] = 'SWZ'
mpd_join.loc[mpd_join['country'] == 'Former Sudan', 'countrycode'] = 'SDN'
mpd_join.loc[mpd_join['country'] == 'Hong Kong', 'countrycode'] = 'HKG'
mpd_join.loc[mpd_join['country'] == 'Iran', 'countrycode'] = 'IRN'
mpd_join.loc[mpd_join['country'] == 'Laos', 'countrycode'] = 'LAO'
mpd_join.loc[mpd_join['country'] == 'Moldova', 'countrycode'] = 'MDA'
mpd_join.loc[mpd_join['country'] == 'North Korea', 'countrycode'] = 'PRK'
mpd_join.loc[mpd_join['country'] == 'North Macedonia', 'countrycode'] = 'MKD'
mpd_join.loc[mpd_join['country'] == 'Palestine', 'countrycode'] = 'PSE'
mpd_join.loc[mpd_join['country'] == 'Russia', 'countrycode'] = 'RUS'
mpd_join.loc[mpd_join['country'] == 'South Korea', 'countrycode'] = 'KOR'
mpd_join.loc[mpd_join['country'] == 'Syria', 'countrycode'] = 'SYR'
mpd_join.loc[mpd_join['country'] == 'Taiwan', 'countrycode'] = 'TWN'
mpd_join.loc[mpd_join['country'] == 'Tanzania', 'countrycode'] = 'TZA'
mpd_join.loc[mpd_join['country'] == 'USSR', 'countrycode'] = 'SUN'
mpd_join.loc[mpd_join['country'] == 'Venezuela', 'countrycode'] = 'VEN'
mpd_join.loc[mpd_join['country'] == 'Vietnam', 'countrycode'] = 'VNM'
mpd_join.loc[mpd_join['country'] == 'Yugoslavia', 'countrycode'] = 'YUG'
mpd_join
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>year</th>
      <th>gdp_per_capita</th>
      <th>population</th>
      <th>gdp</th>
      <th>countrycode</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td>1820</td>
      <td>NaN</td>
      <td>3280000.0</td>
      <td>NaN</td>
      <td>AFG</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Afghanistan</td>
      <td>1820</td>
      <td>NaN</td>
      <td>3280000.0</td>
      <td>NaN</td>
      <td>AFG</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Afghanistan</td>
      <td>1820</td>
      <td>NaN</td>
      <td>3280000.0</td>
      <td>NaN</td>
      <td>AFG</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Afghanistan</td>
      <td>1820</td>
      <td>NaN</td>
      <td>3280000.0</td>
      <td>NaN</td>
      <td>AFG</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Afghanistan</td>
      <td>1820</td>
      <td>NaN</td>
      <td>3280000.0</td>
      <td>NaN</td>
      <td>AFG</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5298227</th>
      <td>Zimbabwe</td>
      <td>2018</td>
      <td>1611.405151</td>
      <td>14096612.0</td>
      <td>2.271535e+10</td>
      <td>ZWE</td>
    </tr>
    <tr>
      <th>5298228</th>
      <td>Zimbabwe</td>
      <td>2018</td>
      <td>1611.405151</td>
      <td>14096612.0</td>
      <td>2.271535e+10</td>
      <td>ZWE</td>
    </tr>
    <tr>
      <th>5298229</th>
      <td>Zimbabwe</td>
      <td>2018</td>
      <td>1611.405151</td>
      <td>14096612.0</td>
      <td>2.271535e+10</td>
      <td>ZWE</td>
    </tr>
    <tr>
      <th>5298230</th>
      <td>Zimbabwe</td>
      <td>2018</td>
      <td>1611.405151</td>
      <td>14096612.0</td>
      <td>2.271535e+10</td>
      <td>ZWE</td>
    </tr>
    <tr>
      <th>5298231</th>
      <td>Zimbabwe</td>
      <td>2018</td>
      <td>1611.405151</td>
      <td>14096612.0</td>
      <td>2.271535e+10</td>
      <td>ZWE</td>
    </tr>
  </tbody>
</table>
<p>5298232 rows × 6 columns</p>
</div>




```python
regions1950 = mpd_regionalcomp[mpd_regionalcomp['year']==1950].copy().reset_index(drop=True)
mpd_1950 = pd.merge(mpd, regions1950[['country','region']], left_on='countrycode', right_on='country', how='left' )
```


```python
mpd_over1950 = mpd_1950[mpd_1950['year']>=1950].copy().reset_index(drop=True)

mpd_over1950['gdp'] = mpd_over1950['gdppc'] * mpd_over1950['pop']

region_list = list(mpd_over1950['region'].unique())
region_list = [x for x in region_list if str(x) != 'nan']
region_list.sort()
year_list = list(mpd_over1950['year'].unique())
year_list.sort()

regionaldata_over = pd.DataFrame() #creates an empty dataframe to use it in the following interation

for i in year_list: #for each year with regional data
    db_peryear = mpd_over1950[mpd_over1950['year']==i].copy().reset_index(drop=True) #dataframe with data from country i
    
    for j in region_list:
        db_peryear_region = db_peryear[db_peryear['region']==j].copy().reset_index(drop=True)
        db_aux = pd.DataFrame()
    
        db_aux.loc[0,'year'] = i #assigns country i
        db_aux.loc[0,'region'] = j #assigns country i
        
        db_aux.loc[0,'gdp_sum'] = db_peryear_region['gdp'].sum()
        db_aux.loc[0,'pop_sum'] = db_peryear_region['pop'].sum()
        
        #regionaldata_over = regionaldata_over.append(db_aux, ignore_index=True)
        regionaldata_over = pd.concat([regionaldata_over, db_aux], ignore_index=True)
    
regionaldata_over['gdppc'] = regionaldata_over['gdp_sum']/regionaldata_over['pop_sum']
regionaldata_over.loc[regionaldata_over['region'] == 'South and South East Asia', 'region'] = 'South and South-East Asia'
regionaldata_over.loc[regionaldata_over['region'] == 'Sub Saharan Africa', 'region'] = 'Sub-Sahara Africa'
regionaldata_over
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>region</th>
      <th>gdp_sum</th>
      <th>pop_sum</th>
      <th>gdppc</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1950.0</td>
      <td>East Asia</td>
      <td>7.540153e+08</td>
      <td>6.817278e+05</td>
      <td>1106.035835</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1950.0</td>
      <td>Eastern Europe</td>
      <td>2.353933e+08</td>
      <td>7.011250e+04</td>
      <td>3357.365705</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1950.0</td>
      <td>Latin America</td>
      <td>6.040478e+08</td>
      <td>1.642172e+05</td>
      <td>3678.345900</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1950.0</td>
      <td>Middle East</td>
      <td>2.357803e+08</td>
      <td>1.027425e+05</td>
      <td>2294.865875</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1950.0</td>
      <td>South and South-East Asia</td>
      <td>6.581309e+08</td>
      <td>6.063336e+05</td>
      <td>1085.427087</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>547</th>
      <td>2018.0</td>
      <td>Middle East</td>
      <td>9.842624e+09</td>
      <td>5.340620e+05</td>
      <td>18429.740279</td>
    </tr>
    <tr>
      <th>548</th>
      <td>2018.0</td>
      <td>South and South-East Asia</td>
      <td>1.787251e+10</td>
      <td>2.258966e+06</td>
      <td>7911.809455</td>
    </tr>
    <tr>
      <th>549</th>
      <td>2018.0</td>
      <td>Sub-Sahara Africa</td>
      <td>3.558336e+09</td>
      <td>1.016094e+06</td>
      <td>3501.974117</td>
    </tr>
    <tr>
      <th>550</th>
      <td>2018.0</td>
      <td>Western Europe</td>
      <td>1.673635e+10</td>
      <td>4.206180e+05</td>
      <td>39789.896660</td>
    </tr>
    <tr>
      <th>551</th>
      <td>2018.0</td>
      <td>Western Offshoots</td>
      <td>2.121962e+10</td>
      <td>3.947359e+05</td>
      <td>53756.496521</td>
    </tr>
  </tbody>
</table>
<p>552 rows × 5 columns</p>
</div>




```python
comparison = pd.merge(regionaldata_over, mpd_df_regions, left_on=['year','region'], right_on=['year','country'], how='left', validate='many_to_many')
comparison['ratio'] = comparison['gdppc']/comparison['gdp_per_capita']
comparison[['ratio']].describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>80.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.009805</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.069200</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.822460</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.993088</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.017085</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.281881</td>
    </tr>
  </tbody>
</table>
</div>



This ratio is also close to 1 on average, but there are also differences depending on the region:


```python
fig = px.scatter(comparison, x="year", y="ratio", 
                 hover_data=['gdppc', 'gdp_per_capita'], opacity=0.5, color='region', 
                 title="Regional GDP pc comparison: Maddison vs. Reconstructed Maddison (since 1950)",
                 log_x=False,
                 log_y=False,
                labels={
                     "ratio": "Reconstructed/Original: 1=equal",
                     "year": "Year",
                     "region": "Region"
                 })

fig.update_traces(marker=dict(size=20, line=dict(width=0, color='blue')))
fig.show()
```


<div>                            <div id="4b830576-b07e-4189-bbef-984be46ba8fb" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("4b830576-b07e-4189-bbef-984be46ba8fb")) {                    Plotly.newPlot(                        "4b830576-b07e-4189-bbef-984be46ba8fb",                        [{"customdata":[[1106.0358353404702,1121.6673583984375],[1266.0232922210887,null],[1388.8088924694132,null],[1520.14183086754,null],[1455.5756415228882,null],[1548.6692574852746,null],[1634.668679579363,null],[1675.0442276902297,null],[1683.6978269810595,null],[1686.1163405013365,null],[1720.177013228751,1735.4322509765625],[1669.4502957819025,null],[1781.5183264206853,null],[1933.4908187293163,null],[2127.707780227388,null],[2257.4327662813453,null],[2362.5880632642297,null],[2453.7621993736348,null],[2551.796964315095,null],[2779.7043266858254,null],[3028.9775577597284,3042.225341796875],[3126.2521063553177,null],[3232.8845259045597,null],[3438.9206582579964,null],[3404.2937819030803,null],[3507.4554157020084,null],[3537.0482880840177,null],[3690.7857616061633,null],[3944.192543331373,null],[4159.728794815005,null],[4250.96822239681,4211.64404296875],[4351.128246886893,null],[4570.934775232178,null],[4720.862893262993,null],[5022.387416890909,null],[5276.716384550215,null],[5499.731428386267,null],[5820.485661643904,null],[6114.985697125096,null],[6242.768905434442,null],[6387.595556900425,6121.29052734375],[6597.730573479613,null],[6801.411663913976,null],[7078.1913535825815,null],[7362.418507815705,null],[7735.823073139373,null],[8065.714663085898,null],[8219.657585332112,null],[8072.712006491161,null],[8315.734328210798,null],[8718.746341814427,8163.83935546875],[8967.496772215112,null],[9352.733684744526,null],[9676.836977978173,null],[10165.68768524466,null],[10741.250957436547,null],[11406.325979776193,null],[12075.482926830331,null],[12307.882111507228,null],[12570.929940378812,null],[13606.408434982723,12853.4306640625],[14134.940823382833,null],[14602.768906213709,null],[15261.639570418933,null],[15865.190730077768,null],[16200.16135754586,null],[16553.526852329735,15697.9365234375],[16839.21891960401,15956.3779296875],[17232.13146847218,16326.953125]],"hovertemplate":"Region=East Asia<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"East Asia","marker":{"color":"#636efa","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"East Asia","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.9860640296421868,null,null,null,null,null,null,null,null,null,0.9912095457836357,null,null,null,null,null,null,null,null,null,0.9956453639856534,null,null,null,null,null,null,null,null,null,1.0093370140085107,null,null,null,null,null,null,null,null,null,1.0435047198572087,null,null,null,null,null,null,null,null,null,1.0679713260126755,null,null,null,null,null,null,null,null,null,1.0585818518495227,null,null,null,null,null,1.0545033627582079,1.0553284081015621,1.0554407387919893],"yaxis":"y","type":"scatter"},{"customdata":[[3357.3657051167766,4082.10302734375],[3554.8282224147024,null],[3579.136755135243,null],[3682.6403697827154,null],[3777.607439059151,null],[4021.2329873158337,null],[4029.6168369982133,null],[4275.461424722531,null],[4453.759404955877,null],[4609.873192233132,null],[4867.292918870984,5779.169921875],[5121.4726597067465,null],[5157.492534160905,null],[5310.722804666189,null],[5559.744968119603,null],[5775.68342487321,null],[6099.477634334783,null],[6354.954495830038,null],[6585.892022307788,null],[6645.7784769863365,null],[6873.238765823132,8241.357421875],[7195.9439240722495,null],[7575.526634217576,null],[8005.795773880304,null],[8258.083726221736,null],[8516.89377269925,null],[8710.216114782661,null],[8921.640769500862,null],[9171.951586356157,null],[9112.857855492455,null],[9012.072498644638,9933.0390625],[8795.52876828252,null],[8883.483173922052,null],[9084.679208820986,null],[9364.816669271106,null],[9315.050898190862,null],[9511.250233051393,null],[9470.188227710585,null],[9593.984905718326,null],[9405.224703791275,null],[8725.2763666074,10343.8740234375],[7956.492753690129,null],[7924.328879501233,null],[8173.245200719666,null],[8613.709622017115,null],[9236.615875289424,null],[9709.401384377816,null],[10108.659464437495,null],[10506.670886823798,null],[10900.884084420455,null],[11518.394249998657,8985.5400390625],[12058.328221962263,null],[12688.980920550779,null],[13398.87516118166,null],[14384.907210485098,null],[15280.412620073394,null],[16571.145259680798,null],[17944.405385972324,null],[19115.295285642525,null],[19082.893218166148,null],[19821.91941239386,17021.2890625],[20769.179047227102,null],[20902.175317213307,null],[21297.00649317341,null],[21971.92029709859,null],[22856.907646307613,null],[23044.893189249484,19446.3515625],[24223.632776966657,20115.830078125],[25369.667663795026,20680.5859375]],"hovertemplate":"Region=Eastern Europe<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Eastern Europe","marker":{"color":"#EF553B","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Eastern Europe","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.8224598160868652,null,null,null,null,null,null,null,null,null,0.8422131525234396,null,null,null,null,null,null,null,null,null,0.833993529704163,null,null,null,null,null,null,null,null,null,0.9072824985323709,null,null,null,null,null,null,null,null,null,0.8435211359725935,null,null,null,null,null,null,null,null,null,1.2818811334572184,null,null,null,null,null,null,null,null,null,1.1645369125458305,null,null,null,null,null,1.1850497053487836,1.2042074666015745,1.226738340028961],"yaxis":"y","type":"scatter"},{"customdata":[[3678.345900154525,3712.964111328125],[3779.7891038085404,null],[3807.482269934404,null],[3860.0545121220275,null],[3980.036281466104,null],[4142.642808671353,null],[4217.711225226717,null],[4381.621312905078,null],[4495.390002679203,null],[4492.250918970149,null],[4698.252237604136,4750.736328125],[4853.933893976878,null],[4937.603057494931,null],[4956.750986844105,null],[5175.591075780825,null],[5296.234806955647,null],[5425.831715459312,null],[5515.132249800305,null],[5702.043911067447,null],[5929.593484967737,null],[6193.17748467192,6285.80908203125],[6418.398951674444,null],[6684.080498575245,null],[7059.830847243965,null],[7324.292865564544,null],[7398.27523963048,null],[7646.535270197686,null],[7829.334667549392,null],[7990.926587448343,null],[8309.540367438452,null],[8611.506987434304,8728.31640625],[8473.068229123091,null],[8220.20373375015,null],[7852.5085633291865,null],[7976.640861617296,null],[8035.398822901329,null],[8204.632804133476,null],[8296.555514773367,null],[8217.23579169442,null],[8158.614751424035,null],[8054.830213399633,8132.15673828125],[8264.477827403956,null],[8446.393987085456,null],[8674.821754094442,null],[8994.813319579622,null],[9033.125585347727,null],[9264.160589937366,null],[9674.684457410696,null],[9824.080820481882,null],[9777.012233958001,null],[10095.469963649235,10225.4453125],[10121.402993622938,null],[10107.106705104083,null],[10249.749088704068,null],[10818.127013131218,null],[11250.18684453585,null],[11823.30403779535,null],[12447.479340790145,null],[12882.997930821211,null],[12593.526143241295,null],[13320.841122409774,13452.81640625],[13887.860747313583,null],[14141.930774890123,null],[14542.383360884678,null],[14544.362579261322,null],[14801.572753368053,null],[13975.960856657664,14090.0830078125],[13990.664240647988,14086.94140625],[13983.984547684688,14076.0439453125]],"hovertemplate":"Region=Latin America<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Latin America","marker":{"color":"#00cc96","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Latin America","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.9906763948867751,null,null,null,null,null,null,null,null,null,0.9889524303400821,null,null,null,null,null,null,null,null,null,0.9852633772119919,null,null,null,null,null,null,null,null,null,0.9866171878539998,null,null,null,null,null,null,null,null,null,0.9904912648181495,null,null,null,null,null,null,null,null,null,0.9872890280199457,null,null,null,null,null,null,null,null,null,0.9901897654844296,null,null,null,null,null,0.9919005337944738,0.9931655025157344,0.9934598529256177],"yaxis":"y","type":"scatter"},{"customdata":[[2294.865875135827,2393.030029296875],[2366.829767979022,null],[2459.377055733839,null],[2581.816042054766,null],[2645.0974108115824,null],[2639.335897077085,null],[2741.2335416984083,null],[2840.332205347019,null],[2887.0397284240785,null],[3005.6722538397166,null],[3109.7611399324064,3109.813232421875],[3180.4720983922357,null],[3255.515456002604,null],[3437.1066258663586,null],[3574.024050311793,null],[3732.0277041503114,null],[3883.763090745729,null],[3996.7976680589304,null],[4295.235243768003,null],[4545.551029256852,null],[4800.652319483987,4800.6083984375],[5088.758649961904,null],[5500.102496204011,null],[5716.510327838367,null],[6045.486402233688,null],[6228.2785527620945,null],[6753.937161607238,null],[6888.631027957302,null],[6830.2694926327795,null],[6874.7169777489335,null],[6740.032848687932,6741.68701171875],[6564.696320495776,null],[6677.67549299938,null],[6635.087664746509,null],[6631.192262404485,null],[6611.1271848447595,null],[6352.805136034545,null],[6390.24845392917,null],[6280.485382296178,null],[6199.143635089027,null],[6438.195157756286,6435.13134765625],[6525.454425397455,null],[6963.559809309479,null],[7334.223163288977,null],[7401.810194991814,null],[7704.471329633473,null],[8202.123143940711,null],[8582.767084039444,null],[8978.893988484593,null],[9047.584412802767,null],[9632.365788473611,9639.638671875],[9783.223925309576,null],[10274.922191499041,null],[10966.808406015953,null],[11961.517829694734,null],[12776.223394895836,null],[13692.340531614476,null],[14557.731612962829,null],[15318.652843812808,null],[15590.247266076638,null],[16721.941959265707,16716.333984375],[17548.197790769784,null],[17896.307082484935,null],[17848.16357016552,null],[18030.908534445025,null],[18198.452948454516,null],[18121.246855757658,18009.998046875],[18403.515252952897,18403.515625],[18429.740279015292,18429.740234375]],"hovertemplate":"Region=Middle East<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Middle East","marker":{"color":"#ab63fa","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Middle East","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.958979138180773,null,null,null,null,null,null,null,null,null,0.9999832489974235,null,null,null,null,null,null,null,null,null,1.000009149058378,null,null,null,null,null,null,null,null,null,0.9997546366320562,null,null,null,null,null,null,null,null,null,1.0004761068476329,null,null,null,null,null,null,null,null,null,0.9992455232349519,null,null,null,null,null,null,null,null,null,1.0003354787536518,null,null,null,null,null,1.0061770583535383,0.9999999797839113,1.0000000024221878],"yaxis":"y","type":"scatter"},{"customdata":[[1085.4270874246329,1069.7144775390625],[1105.2521685989984,null],[1120.8385937978799,null],[1168.6911182468675,null],[1195.31107926167,null],[1211.5077656309188,null],[1241.6389442417444,null],[1235.066296349432,null],[1258.2823197188952,null],[1278.1190746772936,null],[1326.3671793875972,1294.9322509765625],[1349.2740518518633,null],[1361.7067673315562,null],[1381.3000136415894,null],[1432.9713097147092,null],[1393.2548144478092,null],[1392.3601808720152,null],[1427.4239812914084,null],[1458.7665615652506,null],[1529.5680797454547,null],[1585.0609899979602,1545.880615234375],[1587.5531461594721,null],[1595.3103960525746,null],[1677.934228442925,null],[1681.717712232057,null],[1728.9483730210043,null],[1777.471652516623,null],[1863.3784925191035,null],[1928.433966820379,null],[1889.8701174207938,null],[1974.3253520177334,1897.4263916015625],[2054.8328164969867,null],[2065.7351278358124,null],[2147.2964382859045,null],[2187.7628980012023,null],[2207.135206336669,null],[2257.7722752194913,null],[2315.89835789429,null],[2458.3169097572213,null],[2583.0287930534373,null],[2694.5350473194953,2573.6806640625],[2756.0146098875102,null],[2853.474182567719,null],[2968.1679383209294,null],[3103.0624904176793,null],[3264.73737869478,null],[3430.04455820011,null],[3492.5783896459557,null],[3396.5145002907916,null],[3486.4220937002397,null],[3587.976136447279,3437.288330078125],[3670.48308016053,null],[3764.8178886085534,null],[3955.175726515276,null],[4171.627028150927,null],[4386.957833157361,null],[4635.61742860053,null],[4904.552848541954,null],[5092.793108434437,null],[5270.700057816802,null],[5571.301876746015,5366.591796875],[5822.084023895093,null],[6058.091837090044,null],[6318.060047578869,null],[6596.461229693693,null],[6910.286951752378,null],[7229.127734646721,6991.32763671875],[7563.758770243711,7306.07470703125],[7911.809454636646,7648.6640625]],"hovertemplate":"Region=South and South-East Asia<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"South and South-East Asia","marker":{"color":"#FFA15A","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"South and South-East Asia","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[1.014688601692779,null,null,null,null,null,null,null,null,null,1.0242753459783924,null,null,null,null,null,null,null,null,null,1.0253450197754403,null,null,null,null,null,null,null,null,null,1.040528033528227,null,null,null,null,null,null,null,null,null,1.0469578005323432,null,null,null,null,null,null,null,null,null,1.0438391522324602,null,null,null,null,null,null,null,null,null,1.0381452675402327,null,null,null,null,null,1.0340135822957337,1.0352698368885374,1.0344040985440581],"yaxis":"y","type":"scatter"},{"customdata":[[1317.8648290493124,1322.68505859375],[1364.2262402388262,null],[1387.8246985769006,null],[1415.036479438928,null],[1457.5671428000355,null],[1479.4908143651755,null],[1498.7092953725314,null],[1514.458847481408,null],[1503.4516872511558,null],[1543.0408627255035,null],[1567.028514797292,1574.2298583984375],[1569.7012561434772,null],[1619.0900120844021,null],[1665.6119021588854,null],[1700.9230743014964,null],[1743.7230213034034,null],[1749.4109454100812,null],[1726.5146010858848,null],[1738.8963833424407,null],[1833.2762009592018,null],[1944.5083576975828,1957.639892578125],[2008.4674831932593,null],[2009.096833003195,null],[2036.340370392167,null],[2084.1367679919053,null],[1997.9087746177634,null],[2026.5410315997144,null],[2015.6927366253399,null],[1972.5561241484434,null],[1987.9241847039987,null],[1996.9194215447785,2025.7598876953125],[1958.4791823287687,null],[1919.4348788498903,null],[1840.1613338991765,null],[1807.3630116811996,null],[1793.7973929560987,null],[1790.1878957176968,null],[1779.790767587697,null],[1817.8546054912417,null],[1825.9478016766695,null],[1795.2499711948026,1800.77685546875],[1764.0009452365723,null],[1719.0874789423403,null],[1706.1444685463246,null],[1714.963401357662,null],[1753.5526988053812,null],[1819.558597228366,null],[1866.384778041349,null],[1892.853268251008,null],[1917.713147925115,null],[1967.0575151234502,1981.2156982421875],[2041.6778068364267,null],[2147.196845716866,null],[2231.703686780298,null],[2352.7454697404296,null],[2478.296286160845,null],[2616.3420740471583,null],[2779.6655885265586,null],[2917.263676717447,null],[3002.116938419182,null],[3180.363579489555,3155.574951171875],[3307.0984650889786,null],[3348.4014995646835,null],[3431.1675230457613,null],[3516.3390523431976,null],[3540.965291223934,null],[3499.2109965471477,3491.176513671875],[3497.264266997235,3524.229248046875],[3501.9741169612903,3532.373291015625]],"hovertemplate":"Region=Sub-Sahara Africa<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Sub-Sahara Africa","marker":{"color":"#19d3f3","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Sub-Sahara Africa","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.9963557239018317,null,null,null,null,null,null,null,null,null,0.9954254815059398,null,null,null,null,null,null,null,null,null,0.9932921601514523,null,null,null,null,null,null,null,null,null,0.9857631369217477,null,null,null,null,null,null,null,null,null,0.9969308333471951,null,null,null,null,null,null,null,null,null,0.992853790159598,null,null,null,null,null,null,null,null,null,1.0078555029435996,null,null,null,null,null,1.002301368276227,0.992348687003099,0.9913941218693808],"yaxis":"y","type":"scatter"},{"customdata":[[7263.256448458441,7263.26171875],[7634.935068249348,null],[7876.640224076938,null],[8234.636175364272,null],[8636.636358439231,null],[9117.16574465274,null],[9467.221285985008,null],[9815.210074457189,null],[9999.48068998726,null],[10398.376210992672,null],[10973.870772451597,10973.8740234375],[11456.758934079684,null],[11896.312596873535,null],[12348.35488790104,null],[12963.288522103001,null],[13403.847212489962,null],[13800.238003225573,null],[14187.473673075516,null],[14852.362021463627,null],[15598.916810524695,null],[16161.434964658689,16161.4443359375],[16586.860201821604,null],[17233.970524659377,null],[18119.53844637952,null],[18416.358433771868,null],[18274.103116752547,null],[19021.712049488207,null],[19497.713642125233,null],[20024.8510301331,null],[20698.165818997622,null],[20950.24354919569,20950.23046875],[20919.33718338934,null],[21059.535676871805,null],[21410.665394354197,null],[21873.52935635751,null],[22400.701509481347,null],[23012.8927052928,null],[23652.451535448483,null],[24541.079846621753,null],[25269.97708731446,null],[25440.04462948986,25440.03515625],[25939.73839264379,null],[26287.994062199417,null],[26269.91872791027,null],[27062.948509478883,null],[27811.6190763131,null],[28403.878175671,null],[29275.96687999839,null],[30253.21826866201,null],[31259.11070266511,null],[32536.259331656962,32536.306640625],[33314.13195051217,null],[33738.17013179548,null],[34130.43246522975,null],[34966.798146208755,null],[35647.63360691631,null],[36787.36686756967,null],[37855.193425846715,null],[38003.372941059395,null],[36438.235662575775,null],[37318.41890585842,37318.37109375],[37964.51297772349,null],[37651.50821206197,null],[37543.81555917425,null],[37878.52723911395,null],[38355.82418213928,null],[38511.44260403979,38511.33203125],[39256.52942614182,39256.53125],[39789.89665996412,39789.8984375]],"hovertemplate":"Region=Western Europe<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Western Europe","marker":{"color":"#FF6692","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Western Europe","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.9999992743905199,null,null,null,null,null,null,null,null,null,0.9999997037522123,null,null,null,null,null,null,null,null,null,0.9999994201459587,null,null,null,null,null,null,null,null,null,1.0000006243580808,null,null,null,null,null,null,null,null,null,1.0000003723752662,null,null,null,null,null,null,null,null,null,0.9999985459637887,null,null,null,null,null,null,null,null,null,1.0000012811949457,null,null,null,null,null,1.0000028711754165,0.9999999535400066,0.9999999553269561],"yaxis":"y","type":"scatter"},{"customdata":[[14773.20645296759,14773.2216796875],[15556.97724056367,null],[15861.084729379807,null],[16291.49787424018,null],[15938.88732114604,null],[16755.595513160395,null],[16846.60252145059,null],[16842.680179552575,null],[16455.143305347523,null],[17320.086189479076,null],[17471.514645738735,17471.51171875],[17575.155917381016,null],[18346.811562176514,null],[18879.619879587808,null],[19698.18034500969,null],[20669.849437904948,null],[21715.983893685687,null],[22022.50809873932,null],[22826.281754922144,null],[23361.810483523757,null],[23209.65019736911,23209.654296875],[23679.169935303435,null],[24626.792120074137,null],[25788.18650604446,null],[25587.73185556277,null],[25331.118459929537,null],[26380.478146736034,null],[27207.79797484943,null],[28378.140685520935,null],[29061.566845816335,null],[28786.75595198316,28786.76171875],[29232.66780816336,null],[28396.987302603397,null],[29225.09347335231,null],[31030.123365617674,null],[31985.361771448475,null],[32735.088576786875,null],[33590.493805280894,null],[34673.16367840102,null],[35474.12936343846,null],[35619.38222658731,35619.375],[35062.4547805883,null],[35755.19762347035,null],[36312.78400816567,null],[37375.67746054492,null],[37975.04187740862,null],[38923.60992644731,null],[40197.63095267405,null],[41518.45999254203,null],[43008.57410288,null],[44329.2595948973,44329.26953125],[44395.53447032735,null],[44876.29012300451,null],[45725.66100396307,null],[47018.978690982185,null],[48147.211541695964,null],[48964.26406432499,null],[49449.018041861666,null],[48946.89010295629,null],[47282.722681956366,null],[48090.114614311504,48090.15234375],[48569.006095304445,null],[49248.84949140656,null],[49705.91128578818,null],[50468.09130778362,null],[51272.22874190279,null],[51667.56911001049,51667.9765625],[52597.218354861914,52597.21875],[53756.49652114418,53756.49609375]],"hovertemplate":"Region=Western Offshoots<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Western Offshoots","marker":{"color":"#B6E880","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Western Offshoots","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.9999989693026856,null,null,null,null,null,null,null,null,null,1.0000001675292203,null,null,null,null,null,null,null,null,null,0.9999998233706612,null,null,null,null,null,null,null,null,null,0.9999997996729574,null,null,null,null,null,null,null,null,null,1.000000202883608,null,null,null,null,null,null,null,null,null,0.9999997758511971,null,null,null,null,null,null,null,null,null,0.9999992154435647,null,null,null,null,null,0.9999921140227155,0.9999999924874718,1.0000000079505589],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Reconstructed/Original: 1=equal"}},"legend":{"title":{"text":"Region"},"tracegroupgap":0},"title":{"text":"Regional GDP pc comparison: Maddison vs. Reconstructed Maddison (since 1950)"}},                        {"responsive": true}                    ).then(function(){

var gd = document.getElementById('4b830576-b07e-4189-bbef-984be46ba8fb');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>



```python
mpd_withregions = pd.merge(mpd, mpd_regionalcomp, left_on=['countrycode','year'], right_on=['country','year'], how='left', validate='many_to_many')
mpd_withregions_notnull = mpd_withregions[~mpd_withregions['region'].isnull()].copy().reset_index(drop=True)
mpd_withregions_notnull = mpd_withregions_notnull.dropna(subset=['gdppc', 'pop']).copy().reset_index(drop=True)
```


```python
regions1940 = mpd_regionalcomp[mpd_regionalcomp['year']==1940].copy().reset_index(drop=True)
mpd_1940 = pd.merge(mpd, regions1940[['country','region']], left_on='countrycode', right_on='country', how='left' )
```


```python
mpd_below1950 = mpd_1940[(mpd_1940['year']>=1940) & (mpd_1940['year']<1950)].copy().reset_index(drop=True)

mpd_below1950['gdp'] = mpd_below1950['gdppc'] * mpd_below1950['pop']

region_list = list(mpd_below1950['region'].unique())
region_list = [x for x in region_list if str(x) != 'nan']
region_list.sort()
year_list = list(mpd_below1950['year'].unique())
year_list.sort()

regionaldata_below = pd.DataFrame() #creates an empty dataframe to use it in the following interation
    
for i in year_list: #for each year with regional data
    db_peryear = mpd_below1950[mpd_below1950['year']==i].copy().reset_index(drop=True) #dataframe with data from country i
    
    for j in region_list:
        db_peryear_region = db_peryear[db_peryear['region']==j].copy().reset_index(drop=True)
        db_aux = pd.DataFrame()
    
        db_aux.loc[0,'year'] = i #assigns country i
        db_aux.loc[0,'region'] = j #assigns country i
        
        db_aux.loc[0,'gdp_sum'] = db_peryear_region['gdp'].sum()
        db_aux.loc[0,'pop_sum'] = db_peryear_region['pop'].sum()
        #db_aux.loc[0,'growth_avg'] = db_peryear_region['growth'].mean()
        
        #regionaldata_over = regionaldata_over.append(db_aux, ignore_index=True)
        regionaldata_below = pd.concat([regionaldata_below, db_aux], ignore_index=True)
    
regionaldata_below['gdppc'] = regionaldata_below['gdp_sum']/regionaldata_below['pop_sum']
regionaldata_below.loc[regionaldata_below['region'] == 'South and South East Asia', 'region'] = 'South and South-East Asia'
regionaldata_below.loc[regionaldata_below['region'] == 'Sub Saharan Africa', 'region'] = 'Sub-Sahara Africa'
regionaldata_below
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>region</th>
      <th>gdp_sum</th>
      <th>pop_sum</th>
      <th>gdppc</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1940.0</td>
      <td>East Asia</td>
      <td>3.562540e+08</td>
      <td>591737.0</td>
      <td>602.047821</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1940.0</td>
      <td>Latin America</td>
      <td>3.582940e+08</td>
      <td>120055.0</td>
      <td>2984.415218</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1940.0</td>
      <td>South and South-East Asia</td>
      <td>6.172578e+08</td>
      <td>490080.0</td>
      <td>1259.504244</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1941.0</td>
      <td>East Asia</td>
      <td>3.690067e+08</td>
      <td>595513.0</td>
      <td>619.645064</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1941.0</td>
      <td>Latin America</td>
      <td>3.762956e+08</td>
      <td>122685.0</td>
      <td>3067.168611</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1941.0</td>
      <td>South and South-East Asia</td>
      <td>5.914429e+08</td>
      <td>496682.0</td>
      <td>1190.787929</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1942.0</td>
      <td>East Asia</td>
      <td>3.705337e+08</td>
      <td>599290.0</td>
      <td>618.287837</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1942.0</td>
      <td>Latin America</td>
      <td>3.765797e+08</td>
      <td>125423.0</td>
      <td>3002.477201</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1942.0</td>
      <td>South and South-East Asia</td>
      <td>4.567673e+08</td>
      <td>502037.0</td>
      <td>909.827927</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1943.0</td>
      <td>East Asia</td>
      <td>3.667735e+08</td>
      <td>603033.0</td>
      <td>608.214688</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1943.0</td>
      <td>Latin America</td>
      <td>3.883321e+08</td>
      <td>128172.0</td>
      <td>3029.773273</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1943.0</td>
      <td>South and South-East Asia</td>
      <td>4.590896e+08</td>
      <td>507993.0</td>
      <td>903.732162</td>
    </tr>
    <tr>
      <th>12</th>
      <td>1944.0</td>
      <td>East Asia</td>
      <td>3.716977e+08</td>
      <td>606988.0</td>
      <td>612.364227</td>
    </tr>
    <tr>
      <th>13</th>
      <td>1944.0</td>
      <td>Latin America</td>
      <td>4.158910e+08</td>
      <td>131022.0</td>
      <td>3174.207721</td>
    </tr>
    <tr>
      <th>14</th>
      <td>1944.0</td>
      <td>South and South-East Asia</td>
      <td>4.535452e+08</td>
      <td>513243.0</td>
      <td>883.685190</td>
    </tr>
    <tr>
      <th>15</th>
      <td>1945.0</td>
      <td>East Asia</td>
      <td>2.803267e+08</td>
      <td>608831.0</td>
      <td>460.434370</td>
    </tr>
    <tr>
      <th>16</th>
      <td>1945.0</td>
      <td>Latin America</td>
      <td>4.289192e+08</td>
      <td>134325.0</td>
      <td>3193.145208</td>
    </tr>
    <tr>
      <th>17</th>
      <td>1945.0</td>
      <td>South and South-East Asia</td>
      <td>4.460336e+08</td>
      <td>518530.0</td>
      <td>860.188514</td>
    </tr>
    <tr>
      <th>18</th>
      <td>1946.0</td>
      <td>East Asia</td>
      <td>2.139470e+08</td>
      <td>612617.0</td>
      <td>349.234502</td>
    </tr>
    <tr>
      <th>19</th>
      <td>1946.0</td>
      <td>Latin America</td>
      <td>4.672204e+08</td>
      <td>137417.0</td>
      <td>3400.019284</td>
    </tr>
    <tr>
      <th>20</th>
      <td>1946.0</td>
      <td>South and South-East Asia</td>
      <td>4.422750e+08</td>
      <td>524625.0</td>
      <td>843.030824</td>
    </tr>
    <tr>
      <th>21</th>
      <td>1947.0</td>
      <td>East Asia</td>
      <td>2.117767e+08</td>
      <td>616363.0</td>
      <td>343.590876</td>
    </tr>
    <tr>
      <th>22</th>
      <td>1947.0</td>
      <td>Latin America</td>
      <td>4.873583e+08</td>
      <td>140664.0</td>
      <td>3464.697911</td>
    </tr>
    <tr>
      <th>23</th>
      <td>1947.0</td>
      <td>South and South-East Asia</td>
      <td>3.896791e+08</td>
      <td>457979.0</td>
      <td>850.866795</td>
    </tr>
    <tr>
      <th>24</th>
      <td>1948.0</td>
      <td>East Asia</td>
      <td>2.290213e+08</td>
      <td>621240.0</td>
      <td>368.651843</td>
    </tr>
    <tr>
      <th>25</th>
      <td>1948.0</td>
      <td>Latin America</td>
      <td>5.244301e+08</td>
      <td>144080.0</td>
      <td>3639.853602</td>
    </tr>
    <tr>
      <th>26</th>
      <td>1948.0</td>
      <td>South and South-East Asia</td>
      <td>4.001465e+08</td>
      <td>463901.0</td>
      <td>862.568781</td>
    </tr>
    <tr>
      <th>27</th>
      <td>1949.0</td>
      <td>East Asia</td>
      <td>2.349920e+08</td>
      <td>625912.0</td>
      <td>375.439365</td>
    </tr>
    <tr>
      <th>28</th>
      <td>1949.0</td>
      <td>Latin America</td>
      <td>5.437206e+08</td>
      <td>147674.0</td>
      <td>3681.898140</td>
    </tr>
    <tr>
      <th>29</th>
      <td>1949.0</td>
      <td>South and South-East Asia</td>
      <td>5.098016e+08</td>
      <td>471131.0</td>
      <td>1082.080290</td>
    </tr>
  </tbody>
</table>
</div>




```python
for i in range(len(regionaldata_below)): #runs for the entire length of th dataframe
    region = regionaldata_below['region'][i] #gets the country from row i
    year = regionaldata_below['year'][i] #gets the year from row i
    try:
        #gets the gdp from "country" the year before to "year"
        gdp_yearbefore = regionaldata_below.loc[(regionaldata_below['region'] == region) & (regionaldata_below['year'] == year-1), 'gdppc'].iloc[0]
    except: #in case of error (no row available, no year before)
        gdp_yearbefore = None
    regionaldata_below.loc[i,'gdppc_yearbefore'] = gdp_yearbefore #assigns the gdp from the previous year to the following year's row
    
regionaldata_below['growth'] = regionaldata_below['gdppc']/regionaldata_below['gdppc_yearbefore']-1
```


```python
regionaldata_below
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>region</th>
      <th>gdp_sum</th>
      <th>pop_sum</th>
      <th>gdppc</th>
      <th>gdppc_yearbefore</th>
      <th>growth</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1940.0</td>
      <td>East Asia</td>
      <td>3.562540e+08</td>
      <td>591737.0</td>
      <td>602.047821</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1940.0</td>
      <td>Latin America</td>
      <td>3.582940e+08</td>
      <td>120055.0</td>
      <td>2984.415218</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1940.0</td>
      <td>South and South-East Asia</td>
      <td>6.172578e+08</td>
      <td>490080.0</td>
      <td>1259.504244</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1941.0</td>
      <td>East Asia</td>
      <td>3.690067e+08</td>
      <td>595513.0</td>
      <td>619.645064</td>
      <td>602.047821</td>
      <td>0.029229</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1941.0</td>
      <td>Latin America</td>
      <td>3.762956e+08</td>
      <td>122685.0</td>
      <td>3067.168611</td>
      <td>2984.415218</td>
      <td>0.027729</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1941.0</td>
      <td>South and South-East Asia</td>
      <td>5.914429e+08</td>
      <td>496682.0</td>
      <td>1190.787929</td>
      <td>1259.504244</td>
      <td>-0.054558</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1942.0</td>
      <td>East Asia</td>
      <td>3.705337e+08</td>
      <td>599290.0</td>
      <td>618.287837</td>
      <td>619.645064</td>
      <td>-0.002190</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1942.0</td>
      <td>Latin America</td>
      <td>3.765797e+08</td>
      <td>125423.0</td>
      <td>3002.477201</td>
      <td>3067.168611</td>
      <td>-0.021092</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1942.0</td>
      <td>South and South-East Asia</td>
      <td>4.567673e+08</td>
      <td>502037.0</td>
      <td>909.827927</td>
      <td>1190.787929</td>
      <td>-0.235945</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1943.0</td>
      <td>East Asia</td>
      <td>3.667735e+08</td>
      <td>603033.0</td>
      <td>608.214688</td>
      <td>618.287837</td>
      <td>-0.016292</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1943.0</td>
      <td>Latin America</td>
      <td>3.883321e+08</td>
      <td>128172.0</td>
      <td>3029.773273</td>
      <td>3002.477201</td>
      <td>0.009091</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1943.0</td>
      <td>South and South-East Asia</td>
      <td>4.590896e+08</td>
      <td>507993.0</td>
      <td>903.732162</td>
      <td>909.827927</td>
      <td>-0.006700</td>
    </tr>
    <tr>
      <th>12</th>
      <td>1944.0</td>
      <td>East Asia</td>
      <td>3.716977e+08</td>
      <td>606988.0</td>
      <td>612.364227</td>
      <td>608.214688</td>
      <td>0.006822</td>
    </tr>
    <tr>
      <th>13</th>
      <td>1944.0</td>
      <td>Latin America</td>
      <td>4.158910e+08</td>
      <td>131022.0</td>
      <td>3174.207721</td>
      <td>3029.773273</td>
      <td>0.047672</td>
    </tr>
    <tr>
      <th>14</th>
      <td>1944.0</td>
      <td>South and South-East Asia</td>
      <td>4.535452e+08</td>
      <td>513243.0</td>
      <td>883.685190</td>
      <td>903.732162</td>
      <td>-0.022182</td>
    </tr>
    <tr>
      <th>15</th>
      <td>1945.0</td>
      <td>East Asia</td>
      <td>2.803267e+08</td>
      <td>608831.0</td>
      <td>460.434370</td>
      <td>612.364227</td>
      <td>-0.248104</td>
    </tr>
    <tr>
      <th>16</th>
      <td>1945.0</td>
      <td>Latin America</td>
      <td>4.289192e+08</td>
      <td>134325.0</td>
      <td>3193.145208</td>
      <td>3174.207721</td>
      <td>0.005966</td>
    </tr>
    <tr>
      <th>17</th>
      <td>1945.0</td>
      <td>South and South-East Asia</td>
      <td>4.460336e+08</td>
      <td>518530.0</td>
      <td>860.188514</td>
      <td>883.685190</td>
      <td>-0.026589</td>
    </tr>
    <tr>
      <th>18</th>
      <td>1946.0</td>
      <td>East Asia</td>
      <td>2.139470e+08</td>
      <td>612617.0</td>
      <td>349.234502</td>
      <td>460.434370</td>
      <td>-0.241511</td>
    </tr>
    <tr>
      <th>19</th>
      <td>1946.0</td>
      <td>Latin America</td>
      <td>4.672204e+08</td>
      <td>137417.0</td>
      <td>3400.019284</td>
      <td>3193.145208</td>
      <td>0.064787</td>
    </tr>
    <tr>
      <th>20</th>
      <td>1946.0</td>
      <td>South and South-East Asia</td>
      <td>4.422750e+08</td>
      <td>524625.0</td>
      <td>843.030824</td>
      <td>860.188514</td>
      <td>-0.019946</td>
    </tr>
    <tr>
      <th>21</th>
      <td>1947.0</td>
      <td>East Asia</td>
      <td>2.117767e+08</td>
      <td>616363.0</td>
      <td>343.590876</td>
      <td>349.234502</td>
      <td>-0.016160</td>
    </tr>
    <tr>
      <th>22</th>
      <td>1947.0</td>
      <td>Latin America</td>
      <td>4.873583e+08</td>
      <td>140664.0</td>
      <td>3464.697911</td>
      <td>3400.019284</td>
      <td>0.019023</td>
    </tr>
    <tr>
      <th>23</th>
      <td>1947.0</td>
      <td>South and South-East Asia</td>
      <td>3.896791e+08</td>
      <td>457979.0</td>
      <td>850.866795</td>
      <td>843.030824</td>
      <td>0.009295</td>
    </tr>
    <tr>
      <th>24</th>
      <td>1948.0</td>
      <td>East Asia</td>
      <td>2.290213e+08</td>
      <td>621240.0</td>
      <td>368.651843</td>
      <td>343.590876</td>
      <td>0.072938</td>
    </tr>
    <tr>
      <th>25</th>
      <td>1948.0</td>
      <td>Latin America</td>
      <td>5.244301e+08</td>
      <td>144080.0</td>
      <td>3639.853602</td>
      <td>3464.697911</td>
      <td>0.050554</td>
    </tr>
    <tr>
      <th>26</th>
      <td>1948.0</td>
      <td>South and South-East Asia</td>
      <td>4.001465e+08</td>
      <td>463901.0</td>
      <td>862.568781</td>
      <td>850.866795</td>
      <td>0.013753</td>
    </tr>
    <tr>
      <th>27</th>
      <td>1949.0</td>
      <td>East Asia</td>
      <td>2.349920e+08</td>
      <td>625912.0</td>
      <td>375.439365</td>
      <td>368.651843</td>
      <td>0.018412</td>
    </tr>
    <tr>
      <th>28</th>
      <td>1949.0</td>
      <td>Latin America</td>
      <td>5.437206e+08</td>
      <td>147674.0</td>
      <td>3681.898140</td>
      <td>3639.853602</td>
      <td>0.011551</td>
    </tr>
    <tr>
      <th>29</th>
      <td>1949.0</td>
      <td>South and South-East Asia</td>
      <td>5.098016e+08</td>
      <td>471131.0</td>
      <td>1082.080290</td>
      <td>862.568781</td>
      <td>0.254486</td>
    </tr>
  </tbody>
</table>
</div>




```python
region_list = list(regionaldata_below['region'].unique())
region_list = [x for x in region_list if str(x) != 'nan']
region_list.sort()

regionaldata_1940 = pd.DataFrame()

for j in region_list:
    db_peryear_region = regionaldata_below[regionaldata_below['region']==j].copy().reset_index(drop=True)
    db_aux = pd.DataFrame()

    db_aux.loc[0,'year'] = 1940 #assigns country i
    db_aux.loc[0,'region'] = j #assigns country i

    db_aux.loc[0,'gdp_sum'] = db_peryear_region['gdp_sum'].sum()
    db_aux.loc[0,'pop_sum'] = db_peryear_region['pop_sum'].sum()
    db_aux.loc[0,'growth_avg'] = db_peryear_region['growth'].mean()

    regionaldata_1940 = pd.concat([regionaldata_1940, db_aux], ignore_index=True)
```


```python
regionaldata_both = pd.concat([regionaldata_1940, regionaldata_over], ignore_index=True)
regionaldata_both
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>region</th>
      <th>gdp_sum</th>
      <th>pop_sum</th>
      <th>growth_avg</th>
      <th>gdppc</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1940.0</td>
      <td>East Asia</td>
      <td>3.004329e+09</td>
      <td>6.081524e+06</td>
      <td>-0.044095</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1940.0</td>
      <td>Latin America</td>
      <td>4.367041e+09</td>
      <td>1.331517e+06</td>
      <td>0.023920</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1940.0</td>
      <td>South and South-East Asia</td>
      <td>4.766039e+09</td>
      <td>4.946201e+06</td>
      <td>-0.009821</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1950.0</td>
      <td>East Asia</td>
      <td>7.540153e+08</td>
      <td>6.817278e+05</td>
      <td>NaN</td>
      <td>1106.035835</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1950.0</td>
      <td>Eastern Europe</td>
      <td>2.353933e+08</td>
      <td>7.011250e+04</td>
      <td>NaN</td>
      <td>3357.365705</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>550</th>
      <td>2018.0</td>
      <td>Middle East</td>
      <td>9.842624e+09</td>
      <td>5.340620e+05</td>
      <td>NaN</td>
      <td>18429.740279</td>
    </tr>
    <tr>
      <th>551</th>
      <td>2018.0</td>
      <td>South and South-East Asia</td>
      <td>1.787251e+10</td>
      <td>2.258966e+06</td>
      <td>NaN</td>
      <td>7911.809455</td>
    </tr>
    <tr>
      <th>552</th>
      <td>2018.0</td>
      <td>Sub-Sahara Africa</td>
      <td>3.558336e+09</td>
      <td>1.016094e+06</td>
      <td>NaN</td>
      <td>3501.974117</td>
    </tr>
    <tr>
      <th>553</th>
      <td>2018.0</td>
      <td>Western Europe</td>
      <td>1.673635e+10</td>
      <td>4.206180e+05</td>
      <td>NaN</td>
      <td>39789.896660</td>
    </tr>
    <tr>
      <th>554</th>
      <td>2018.0</td>
      <td>Western Offshoots</td>
      <td>2.121962e+10</td>
      <td>3.947359e+05</td>
      <td>NaN</td>
      <td>53756.496521</td>
    </tr>
  </tbody>
</table>
<p>555 rows × 6 columns</p>
</div>




```python
east_asia_1950 = regionaldata_both.loc[(regionaldata_both['region'] == 'East Asia') & (regionaldata_both['year'] == 1950),
                                       'gdppc'].iloc[0]
latin_america_1950 = regionaldata_both.loc[(regionaldata_both['region'] == 'Latin America') & (regionaldata_both['year'] == 1950),
                                       'gdppc'].iloc[0]
southeast_asia_1950 = regionaldata_both.loc[(regionaldata_both['region'] == 'South and South-East Asia') & (regionaldata_both['year'] == 1950),
                                       'gdppc'].iloc[0]

east_asia_growth1940 = regionaldata_both.loc[(regionaldata_both['region'] == 'East Asia') & (regionaldata_both['year'] == 1940),
                                       'growth_avg'].iloc[0]
latin_america_growth1940 = regionaldata_both.loc[(regionaldata_both['region'] == 'Latin America') & (regionaldata_both['year'] == 1940),
                                       'growth_avg'].iloc[0]
southeast_asia_growth1940 = regionaldata_both.loc[(regionaldata_both['region'] == 'South and South-East Asia') & (regionaldata_both['year'] == 1940),
                                       'growth_avg'].iloc[0]

regionaldata_both.loc[(regionaldata_both['region'] == 'East Asia') & (regionaldata_both['year'] == 1940),'gdppc'] = east_asia_1950/(1+east_asia_growth1940)
regionaldata_both.loc[(regionaldata_both['region'] == 'Latin America') & (regionaldata_both['year'] == 1940),'gdppc'] = latin_america_1950/(1+latin_america_growth1940)
regionaldata_both.loc[(regionaldata_both['region'] == 'South and South-East Asia') & (regionaldata_both['year'] == 1940),'gdppc'] = southeast_asia_1950/(1+southeast_asia_growth1940)
```


```python
comparison = pd.merge(regionaldata_both, mpd_df_regions, left_on=['year','region'], right_on=['year','country'], how='left', validate='many_to_many')
comparison['ratio'] = comparison['gdppc']/comparison['gdp_per_capita']
comparison[['ratio']].describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>83.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.008555</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.074105</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.822460</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.992601</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.019482</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.281881</td>
    </tr>
  </tbody>
</table>
</div>



This ratio is also close to 1 on average, but there are also differences depending on the region:


```python
fig = px.scatter(comparison, x="year", y="ratio", 
                 hover_data=['gdppc', 'gdp_per_capita'], opacity=0.5, color='region', 
                 title="Regional GDP pc comparison: Maddison vs. Reconstructed Maddison (included reconstructed 1940)",
                 log_x=False,
                 log_y=False,
                labels={
                     "ratio": "Reconstructed/Original: 1=equal",
                     "year": "Year",
                     "region": "Region"
                 })

fig.update_traces(marker=dict(size=20, line=dict(width=0, color='blue')))
fig.show()
```


<div>                            <div id="dee80ff5-e280-4531-8856-08b7932f6f14" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("dee80ff5-e280-4531-8856-08b7932f6f14")) {                    Plotly.newPlot(                        "dee80ff5-e280-4531-8856-08b7932f6f14",                        [{"customdata":[[1157.0562638275399,1361.0],[1106.0358353404702,1121.6673583984375],[1266.0232922210887,null],[1388.8088924694132,null],[1520.14183086754,null],[1455.5756415228882,null],[1548.6692574852746,null],[1634.668679579363,null],[1675.0442276902297,null],[1683.6978269810595,null],[1686.1163405013365,null],[1720.177013228751,1735.4322509765625],[1669.4502957819025,null],[1781.5183264206853,null],[1933.4908187293163,null],[2127.707780227388,null],[2257.4327662813453,null],[2362.5880632642297,null],[2453.7621993736348,null],[2551.796964315095,null],[2779.7043266858254,null],[3028.9775577597284,3042.225341796875],[3126.2521063553177,null],[3232.8845259045597,null],[3438.9206582579964,null],[3404.2937819030803,null],[3507.4554157020084,null],[3537.0482880840177,null],[3690.7857616061633,null],[3944.192543331373,null],[4159.728794815005,null],[4250.96822239681,4211.64404296875],[4351.128246886893,null],[4570.934775232178,null],[4720.862893262993,null],[5022.387416890909,null],[5276.716384550215,null],[5499.731428386267,null],[5820.485661643904,null],[6114.985697125096,null],[6242.768905434442,null],[6387.595556900425,6121.29052734375],[6597.730573479613,null],[6801.411663913976,null],[7078.1913535825815,null],[7362.418507815705,null],[7735.823073139373,null],[8065.714663085898,null],[8219.657585332112,null],[8072.712006491161,null],[8315.734328210798,null],[8718.746341814427,8163.83935546875],[8967.496772215112,null],[9352.733684744526,null],[9676.836977978173,null],[10165.68768524466,null],[10741.250957436547,null],[11406.325979776193,null],[12075.482926830331,null],[12307.882111507228,null],[12570.929940378812,null],[13606.408434982723,12853.4306640625],[14134.940823382833,null],[14602.768906213709,null],[15261.639570418933,null],[15865.190730077768,null],[16200.16135754586,null],[16553.526852329735,15697.9365234375],[16839.21891960401,15956.3779296875],[17232.13146847218,16326.953125]],"hovertemplate":"Region=East Asia<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"East Asia","marker":{"color":"#636efa","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"East Asia","orientation":"v","showlegend":true,"x":[1940.0,1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.8501515531429389,0.9860640296421868,null,null,null,null,null,null,null,null,null,0.9912095457836357,null,null,null,null,null,null,null,null,null,0.9956453639856534,null,null,null,null,null,null,null,null,null,1.0093370140085107,null,null,null,null,null,null,null,null,null,1.0435047198572087,null,null,null,null,null,null,null,null,null,1.0679713260126755,null,null,null,null,null,null,null,null,null,1.0585818518495227,null,null,null,null,null,1.0545033627582079,1.0553284081015621,1.0554407387919893],"yaxis":"y","type":"scatter"},{"customdata":[[3592.4147888814787,3024.265380859375],[3678.345900154525,3712.964111328125],[3779.7891038085404,null],[3807.482269934404,null],[3860.0545121220275,null],[3980.036281466104,null],[4142.642808671353,null],[4217.711225226717,null],[4381.621312905078,null],[4495.390002679203,null],[4492.250918970149,null],[4698.252237604136,4750.736328125],[4853.933893976878,null],[4937.603057494931,null],[4956.750986844105,null],[5175.591075780825,null],[5296.234806955647,null],[5425.831715459312,null],[5515.132249800305,null],[5702.043911067447,null],[5929.593484967737,null],[6193.17748467192,6285.80908203125],[6418.398951674444,null],[6684.080498575245,null],[7059.830847243965,null],[7324.292865564544,null],[7398.27523963048,null],[7646.535270197686,null],[7829.334667549392,null],[7990.926587448343,null],[8309.540367438452,null],[8611.506987434304,8728.31640625],[8473.068229123091,null],[8220.20373375015,null],[7852.5085633291865,null],[7976.640861617296,null],[8035.398822901329,null],[8204.632804133476,null],[8296.555514773367,null],[8217.23579169442,null],[8158.614751424035,null],[8054.830213399633,8132.15673828125],[8264.477827403956,null],[8446.393987085456,null],[8674.821754094442,null],[8994.813319579622,null],[9033.125585347727,null],[9264.160589937366,null],[9674.684457410696,null],[9824.080820481882,null],[9777.012233958001,null],[10095.469963649235,10225.4453125],[10121.402993622938,null],[10107.106705104083,null],[10249.749088704068,null],[10818.127013131218,null],[11250.18684453585,null],[11823.30403779535,null],[12447.479340790145,null],[12882.997930821211,null],[12593.526143241295,null],[13320.841122409774,13452.81640625],[13887.860747313583,null],[14141.930774890123,null],[14542.383360884678,null],[14544.362579261322,null],[14801.572753368053,null],[13975.960856657664,14090.0830078125],[13990.664240647988,14086.94140625],[13983.984547684688,14076.0439453125]],"hovertemplate":"Region=Latin America<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Latin America","marker":{"color":"#EF553B","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Latin America","orientation":"v","showlegend":true,"x":[1940.0,1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[1.1878636086693748,0.9906763948867751,null,null,null,null,null,null,null,null,null,0.9889524303400821,null,null,null,null,null,null,null,null,null,0.9852633772119919,null,null,null,null,null,null,null,null,null,0.9866171878539998,null,null,null,null,null,null,null,null,null,0.9904912648181495,null,null,null,null,null,null,null,null,null,0.9872890280199457,null,null,null,null,null,null,null,null,null,0.9901897654844296,null,null,null,null,null,0.9919005337944738,0.9931655025157344,0.9934598529256177],"yaxis":"y","type":"scatter"},{"customdata":[[1096.192576321955,1235.0],[1085.4270874246329,1069.7144775390625],[1105.2521685989984,null],[1120.8385937978799,null],[1168.6911182468675,null],[1195.31107926167,null],[1211.5077656309188,null],[1241.6389442417444,null],[1235.066296349432,null],[1258.2823197188952,null],[1278.1190746772936,null],[1326.3671793875972,1294.9322509765625],[1349.2740518518633,null],[1361.7067673315562,null],[1381.3000136415894,null],[1432.9713097147092,null],[1393.2548144478092,null],[1392.3601808720152,null],[1427.4239812914084,null],[1458.7665615652506,null],[1529.5680797454547,null],[1585.0609899979602,1545.880615234375],[1587.5531461594721,null],[1595.3103960525746,null],[1677.934228442925,null],[1681.717712232057,null],[1728.9483730210043,null],[1777.471652516623,null],[1863.3784925191035,null],[1928.433966820379,null],[1889.8701174207938,null],[1974.3253520177334,1897.4263916015625],[2054.8328164969867,null],[2065.7351278358124,null],[2147.2964382859045,null],[2187.7628980012023,null],[2207.135206336669,null],[2257.7722752194913,null],[2315.89835789429,null],[2458.3169097572213,null],[2583.0287930534373,null],[2694.5350473194953,2573.6806640625],[2756.0146098875102,null],[2853.474182567719,null],[2968.1679383209294,null],[3103.0624904176793,null],[3264.73737869478,null],[3430.04455820011,null],[3492.5783896459557,null],[3396.5145002907916,null],[3486.4220937002397,null],[3587.976136447279,3437.288330078125],[3670.48308016053,null],[3764.8178886085534,null],[3955.175726515276,null],[4171.627028150927,null],[4386.957833157361,null],[4635.61742860053,null],[4904.552848541954,null],[5092.793108434437,null],[5270.700057816802,null],[5571.301876746015,5366.591796875],[5822.084023895093,null],[6058.091837090044,null],[6318.060047578869,null],[6596.461229693693,null],[6910.286951752378,null],[7229.127734646721,6991.32763671875],[7563.758770243711,7306.07470703125],[7911.809454636646,7648.6640625]],"hovertemplate":"Region=South and South-East Asia<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"South and South-East Asia","marker":{"color":"#00cc96","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"South and South-East Asia","orientation":"v","showlegend":true,"x":[1940.0,1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.8876053249570485,1.014688601692779,null,null,null,null,null,null,null,null,null,1.0242753459783924,null,null,null,null,null,null,null,null,null,1.0253450197754403,null,null,null,null,null,null,null,null,null,1.040528033528227,null,null,null,null,null,null,null,null,null,1.0469578005323432,null,null,null,null,null,null,null,null,null,1.0438391522324602,null,null,null,null,null,null,null,null,null,1.0381452675402327,null,null,null,null,null,1.0340135822957337,1.0352698368885374,1.0344040985440581],"yaxis":"y","type":"scatter"},{"customdata":[[3357.3657051167766,4082.10302734375],[3554.8282224147024,null],[3579.136755135243,null],[3682.6403697827154,null],[3777.607439059151,null],[4021.2329873158337,null],[4029.6168369982133,null],[4275.461424722531,null],[4453.759404955877,null],[4609.873192233132,null],[4867.292918870984,5779.169921875],[5121.4726597067465,null],[5157.492534160905,null],[5310.722804666189,null],[5559.744968119603,null],[5775.68342487321,null],[6099.477634334783,null],[6354.954495830038,null],[6585.892022307788,null],[6645.7784769863365,null],[6873.238765823132,8241.357421875],[7195.9439240722495,null],[7575.526634217576,null],[8005.795773880304,null],[8258.083726221736,null],[8516.89377269925,null],[8710.216114782661,null],[8921.640769500862,null],[9171.951586356157,null],[9112.857855492455,null],[9012.072498644638,9933.0390625],[8795.52876828252,null],[8883.483173922052,null],[9084.679208820986,null],[9364.816669271106,null],[9315.050898190862,null],[9511.250233051393,null],[9470.188227710585,null],[9593.984905718326,null],[9405.224703791275,null],[8725.2763666074,10343.8740234375],[7956.492753690129,null],[7924.328879501233,null],[8173.245200719666,null],[8613.709622017115,null],[9236.615875289424,null],[9709.401384377816,null],[10108.659464437495,null],[10506.670886823798,null],[10900.884084420455,null],[11518.394249998657,8985.5400390625],[12058.328221962263,null],[12688.980920550779,null],[13398.87516118166,null],[14384.907210485098,null],[15280.412620073394,null],[16571.145259680798,null],[17944.405385972324,null],[19115.295285642525,null],[19082.893218166148,null],[19821.91941239386,17021.2890625],[20769.179047227102,null],[20902.175317213307,null],[21297.00649317341,null],[21971.92029709859,null],[22856.907646307613,null],[23044.893189249484,19446.3515625],[24223.632776966657,20115.830078125],[25369.667663795026,20680.5859375]],"hovertemplate":"Region=Eastern Europe<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Eastern Europe","marker":{"color":"#ab63fa","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Eastern Europe","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.8224598160868652,null,null,null,null,null,null,null,null,null,0.8422131525234396,null,null,null,null,null,null,null,null,null,0.833993529704163,null,null,null,null,null,null,null,null,null,0.9072824985323709,null,null,null,null,null,null,null,null,null,0.8435211359725935,null,null,null,null,null,null,null,null,null,1.2818811334572184,null,null,null,null,null,null,null,null,null,1.1645369125458305,null,null,null,null,null,1.1850497053487836,1.2042074666015745,1.226738340028961],"yaxis":"y","type":"scatter"},{"customdata":[[2294.865875135827,2393.030029296875],[2366.829767979022,null],[2459.377055733839,null],[2581.816042054766,null],[2645.0974108115824,null],[2639.335897077085,null],[2741.2335416984083,null],[2840.332205347019,null],[2887.0397284240785,null],[3005.6722538397166,null],[3109.7611399324064,3109.813232421875],[3180.4720983922357,null],[3255.515456002604,null],[3437.1066258663586,null],[3574.024050311793,null],[3732.0277041503114,null],[3883.763090745729,null],[3996.7976680589304,null],[4295.235243768003,null],[4545.551029256852,null],[4800.652319483987,4800.6083984375],[5088.758649961904,null],[5500.102496204011,null],[5716.510327838367,null],[6045.486402233688,null],[6228.2785527620945,null],[6753.937161607238,null],[6888.631027957302,null],[6830.2694926327795,null],[6874.7169777489335,null],[6740.032848687932,6741.68701171875],[6564.696320495776,null],[6677.67549299938,null],[6635.087664746509,null],[6631.192262404485,null],[6611.1271848447595,null],[6352.805136034545,null],[6390.24845392917,null],[6280.485382296178,null],[6199.143635089027,null],[6438.195157756286,6435.13134765625],[6525.454425397455,null],[6963.559809309479,null],[7334.223163288977,null],[7401.810194991814,null],[7704.471329633473,null],[8202.123143940711,null],[8582.767084039444,null],[8978.893988484593,null],[9047.584412802767,null],[9632.365788473611,9639.638671875],[9783.223925309576,null],[10274.922191499041,null],[10966.808406015953,null],[11961.517829694734,null],[12776.223394895836,null],[13692.340531614476,null],[14557.731612962829,null],[15318.652843812808,null],[15590.247266076638,null],[16721.941959265707,16716.333984375],[17548.197790769784,null],[17896.307082484935,null],[17848.16357016552,null],[18030.908534445025,null],[18198.452948454516,null],[18121.246855757658,18009.998046875],[18403.515252952897,18403.515625],[18429.740279015292,18429.740234375]],"hovertemplate":"Region=Middle East<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Middle East","marker":{"color":"#FFA15A","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Middle East","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.958979138180773,null,null,null,null,null,null,null,null,null,0.9999832489974235,null,null,null,null,null,null,null,null,null,1.000009149058378,null,null,null,null,null,null,null,null,null,0.9997546366320562,null,null,null,null,null,null,null,null,null,1.0004761068476329,null,null,null,null,null,null,null,null,null,0.9992455232349519,null,null,null,null,null,null,null,null,null,1.0003354787536518,null,null,null,null,null,1.0061770583535383,0.9999999797839113,1.0000000024221878],"yaxis":"y","type":"scatter"},{"customdata":[[1317.8648290493124,1322.68505859375],[1364.2262402388262,null],[1387.8246985769006,null],[1415.036479438928,null],[1457.5671428000355,null],[1479.4908143651755,null],[1498.7092953725314,null],[1514.458847481408,null],[1503.4516872511558,null],[1543.0408627255035,null],[1567.028514797292,1574.2298583984375],[1569.7012561434772,null],[1619.0900120844021,null],[1665.6119021588854,null],[1700.9230743014964,null],[1743.7230213034034,null],[1749.4109454100812,null],[1726.5146010858848,null],[1738.8963833424407,null],[1833.2762009592018,null],[1944.5083576975828,1957.639892578125],[2008.4674831932593,null],[2009.096833003195,null],[2036.340370392167,null],[2084.1367679919053,null],[1997.9087746177634,null],[2026.5410315997144,null],[2015.6927366253399,null],[1972.5561241484434,null],[1987.9241847039987,null],[1996.9194215447785,2025.7598876953125],[1958.4791823287687,null],[1919.4348788498903,null],[1840.1613338991765,null],[1807.3630116811996,null],[1793.7973929560987,null],[1790.1878957176968,null],[1779.790767587697,null],[1817.8546054912417,null],[1825.9478016766695,null],[1795.2499711948026,1800.77685546875],[1764.0009452365723,null],[1719.0874789423403,null],[1706.1444685463246,null],[1714.963401357662,null],[1753.5526988053812,null],[1819.558597228366,null],[1866.384778041349,null],[1892.853268251008,null],[1917.713147925115,null],[1967.0575151234502,1981.2156982421875],[2041.6778068364267,null],[2147.196845716866,null],[2231.703686780298,null],[2352.7454697404296,null],[2478.296286160845,null],[2616.3420740471583,null],[2779.6655885265586,null],[2917.263676717447,null],[3002.116938419182,null],[3180.363579489555,3155.574951171875],[3307.0984650889786,null],[3348.4014995646835,null],[3431.1675230457613,null],[3516.3390523431976,null],[3540.965291223934,null],[3499.2109965471477,3491.176513671875],[3497.264266997235,3524.229248046875],[3501.9741169612903,3532.373291015625]],"hovertemplate":"Region=Sub-Sahara Africa<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Sub-Sahara Africa","marker":{"color":"#19d3f3","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Sub-Sahara Africa","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.9963557239018317,null,null,null,null,null,null,null,null,null,0.9954254815059398,null,null,null,null,null,null,null,null,null,0.9932921601514523,null,null,null,null,null,null,null,null,null,0.9857631369217477,null,null,null,null,null,null,null,null,null,0.9969308333471951,null,null,null,null,null,null,null,null,null,0.992853790159598,null,null,null,null,null,null,null,null,null,1.0078555029435996,null,null,null,null,null,1.002301368276227,0.992348687003099,0.9913941218693808],"yaxis":"y","type":"scatter"},{"customdata":[[7263.256448458441,7263.26171875],[7634.935068249348,null],[7876.640224076938,null],[8234.636175364272,null],[8636.636358439231,null],[9117.16574465274,null],[9467.221285985008,null],[9815.210074457189,null],[9999.48068998726,null],[10398.376210992672,null],[10973.870772451597,10973.8740234375],[11456.758934079684,null],[11896.312596873535,null],[12348.35488790104,null],[12963.288522103001,null],[13403.847212489962,null],[13800.238003225573,null],[14187.473673075516,null],[14852.362021463627,null],[15598.916810524695,null],[16161.434964658689,16161.4443359375],[16586.860201821604,null],[17233.970524659377,null],[18119.53844637952,null],[18416.358433771868,null],[18274.103116752547,null],[19021.712049488207,null],[19497.713642125233,null],[20024.8510301331,null],[20698.165818997622,null],[20950.24354919569,20950.23046875],[20919.33718338934,null],[21059.535676871805,null],[21410.665394354197,null],[21873.52935635751,null],[22400.701509481347,null],[23012.8927052928,null],[23652.451535448483,null],[24541.079846621753,null],[25269.97708731446,null],[25440.04462948986,25440.03515625],[25939.73839264379,null],[26287.994062199417,null],[26269.91872791027,null],[27062.948509478883,null],[27811.6190763131,null],[28403.878175671,null],[29275.96687999839,null],[30253.21826866201,null],[31259.11070266511,null],[32536.259331656962,32536.306640625],[33314.13195051217,null],[33738.17013179548,null],[34130.43246522975,null],[34966.798146208755,null],[35647.63360691631,null],[36787.36686756967,null],[37855.193425846715,null],[38003.372941059395,null],[36438.235662575775,null],[37318.41890585842,37318.37109375],[37964.51297772349,null],[37651.50821206197,null],[37543.81555917425,null],[37878.52723911395,null],[38355.82418213928,null],[38511.44260403979,38511.33203125],[39256.52942614182,39256.53125],[39789.89665996412,39789.8984375]],"hovertemplate":"Region=Western Europe<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Western Europe","marker":{"color":"#FF6692","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Western Europe","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.9999992743905199,null,null,null,null,null,null,null,null,null,0.9999997037522123,null,null,null,null,null,null,null,null,null,0.9999994201459587,null,null,null,null,null,null,null,null,null,1.0000006243580808,null,null,null,null,null,null,null,null,null,1.0000003723752662,null,null,null,null,null,null,null,null,null,0.9999985459637887,null,null,null,null,null,null,null,null,null,1.0000012811949457,null,null,null,null,null,1.0000028711754165,0.9999999535400066,0.9999999553269561],"yaxis":"y","type":"scatter"},{"customdata":[[14773.20645296759,14773.2216796875],[15556.97724056367,null],[15861.084729379807,null],[16291.49787424018,null],[15938.88732114604,null],[16755.595513160395,null],[16846.60252145059,null],[16842.680179552575,null],[16455.143305347523,null],[17320.086189479076,null],[17471.514645738735,17471.51171875],[17575.155917381016,null],[18346.811562176514,null],[18879.619879587808,null],[19698.18034500969,null],[20669.849437904948,null],[21715.983893685687,null],[22022.50809873932,null],[22826.281754922144,null],[23361.810483523757,null],[23209.65019736911,23209.654296875],[23679.169935303435,null],[24626.792120074137,null],[25788.18650604446,null],[25587.73185556277,null],[25331.118459929537,null],[26380.478146736034,null],[27207.79797484943,null],[28378.140685520935,null],[29061.566845816335,null],[28786.75595198316,28786.76171875],[29232.66780816336,null],[28396.987302603397,null],[29225.09347335231,null],[31030.123365617674,null],[31985.361771448475,null],[32735.088576786875,null],[33590.493805280894,null],[34673.16367840102,null],[35474.12936343846,null],[35619.38222658731,35619.375],[35062.4547805883,null],[35755.19762347035,null],[36312.78400816567,null],[37375.67746054492,null],[37975.04187740862,null],[38923.60992644731,null],[40197.63095267405,null],[41518.45999254203,null],[43008.57410288,null],[44329.2595948973,44329.26953125],[44395.53447032735,null],[44876.29012300451,null],[45725.66100396307,null],[47018.978690982185,null],[48147.211541695964,null],[48964.26406432499,null],[49449.018041861666,null],[48946.89010295629,null],[47282.722681956366,null],[48090.114614311504,48090.15234375],[48569.006095304445,null],[49248.84949140656,null],[49705.91128578818,null],[50468.09130778362,null],[51272.22874190279,null],[51667.56911001049,51667.9765625],[52597.218354861914,52597.21875],[53756.49652114418,53756.49609375]],"hovertemplate":"Region=Western Offshoots<br>Year=%{x}<br>Reconstructed/Original: 1=equal=%{y}<br>gdppc=%{customdata[0]}<br>gdp_per_capita=%{customdata[1]}<extra></extra>","legendgroup":"Western Offshoots","marker":{"color":"#B6E880","opacity":0.5,"symbol":"circle","line":{"color":"blue","width":0},"size":20},"mode":"markers","name":"Western Offshoots","orientation":"v","showlegend":true,"x":[1950.0,1951.0,1952.0,1953.0,1954.0,1955.0,1956.0,1957.0,1958.0,1959.0,1960.0,1961.0,1962.0,1963.0,1964.0,1965.0,1966.0,1967.0,1968.0,1969.0,1970.0,1971.0,1972.0,1973.0,1974.0,1975.0,1976.0,1977.0,1978.0,1979.0,1980.0,1981.0,1982.0,1983.0,1984.0,1985.0,1986.0,1987.0,1988.0,1989.0,1990.0,1991.0,1992.0,1993.0,1994.0,1995.0,1996.0,1997.0,1998.0,1999.0,2000.0,2001.0,2002.0,2003.0,2004.0,2005.0,2006.0,2007.0,2008.0,2009.0,2010.0,2011.0,2012.0,2013.0,2014.0,2015.0,2016.0,2017.0,2018.0],"xaxis":"x","y":[0.9999989693026856,null,null,null,null,null,null,null,null,null,1.0000001675292203,null,null,null,null,null,null,null,null,null,0.9999998233706612,null,null,null,null,null,null,null,null,null,0.9999997996729574,null,null,null,null,null,null,null,null,null,1.000000202883608,null,null,null,null,null,null,null,null,null,0.9999997758511971,null,null,null,null,null,null,null,null,null,0.9999992154435647,null,null,null,null,null,0.9999921140227155,0.9999999924874718,1.0000000079505589],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Reconstructed/Original: 1=equal"}},"legend":{"title":{"text":"Region"},"tracegroupgap":0},"title":{"text":"Regional GDP pc comparison: Maddison vs. Reconstructed Maddison (included reconstructed 1940)"}},                        {"responsive": true}                    ).then(function(){

var gd = document.getElementById('dee80ff5-e280-4531-8856-08b7932f6f14');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>


For 1940 there are still differences with the official estimation, so this method is not the one they use


```python

```
