# select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
select_countries<- c("World Total", "Other high Income")
# select_countries<- c("World Total", "United States")
select_years<- c(1981, 2000, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
# select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
# select_countries<- c("World Total", "Other high Income")
select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1981, 2000, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(0:5)*20) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
#axis.text.x = element_text(size = 8, angle = 45)
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
# select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
# select_countries<- c("World Total", "Other high Income")
select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1990, 2000, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(0:5)*20) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
#axis.text.x = element_text(size = 8, angle = 45)
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
# select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
# select_countries<- c("World Total", "Other high Income")
select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1981, 2000, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(0:5)*20) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
#axis.text.x = element_text(size = 8, angle = 45)
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
# select_countries<- c("World Total", "Other high Income")
# select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1981, 2000, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(0:5)*20) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
#axis.text.x = element_text(size = 8, angle = 45)
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(0:5)*20) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
aspect.ratio=1/10
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(0:5)*20) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
aspect.ratio=0.5
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(0:5)*20) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
# select_countries<- c("World Total", "Other high Income")
# select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1981, 2000, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
selected_data<- df %>%
filter(percentile<=5 & percentile<=95)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(0:5)*20) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
# select_countries<- c("World Total", "Other high Income")
# select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1981, 2000, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
selected_data<- df %>%
filter(percentile>=5 & percentile<=95)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(0:5)*20) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
# select_countries<- c("World Total", "Other high Income")
# select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1981, 2000, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
selected_data<- selected_data %>%
filter(percentile>=5 & percentile<=95)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(0:5)*20) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(5, c(1:4)*20, 95)) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
# select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
select_countries<- c("World Total", "Other high Income")
# select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1981, 2000, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
selected_data<- selected_data %>%
filter(percentile>=5 & percentile<=95)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(5, c(1:4)*20, 95)) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
# select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
select_countries<- c("World Total", "Other high Income")
# select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1981, 2008, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
selected_data<- selected_data %>%
filter(percentile>=5 & percentile<=95)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(5, c(1:4)*20, 95)) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
# select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
select_countries<- c("World Total", "Other high Income")
# select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1981, 2000, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
selected_data<- selected_data %>%
filter(percentile>=5 & percentile<=95)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(5, c(1:4)*20, 95)) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
# select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
select_countries<- c("World Total", "Other high Income")
# select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1981, 2000, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
selected_data<- selected_data %>%
filter(percentile>=1 & percentile<=99)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(1, 5, c(1:4)*20, 95, 99)) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
# select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
select_countries<- c("World Total", "Other high Income")
# select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1981, 2000, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
selected_data<- selected_data %>%
filter(percentile>=5 & percentile<=95)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(5, c(1:4)*20, 95)) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
# select_countries<- c("World Total", "Uzbekistan", "Ukraine", "Russian Federation")
# select_countries<- c("World Total", "Latin America and the Caribbean")
# select_countries<- c("World Total", "China",  "India")
select_countries<- c("World Total", "Other high Income")
# select_countries<- c("World Total", "Sub-Saharan Africa")
select_years<- c(1988, 2008, 2017)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
selected_data<- selected_data %>%
filter(percentile>=5 & percentile<=95)
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot() +
geom_line(data = selected_data,
aes(x=percentile, y = log(daily_income_or_consumption), colour = as.factor(RequestYear))) +
facet_wrap(~CountryName, nrow = 1) +
coord_cartesian(ylim =  c(log(0.5), NA)) +
scale_y_continuous(breaks=axis_breaks,
labels = axis_labels) +
scale_x_continuous(breaks=c(5, c(1:4)*20, 95)) +
scale_color_manual(values=c('skyblue', 'blue1','blue4')) +
xlab("Percentile") +  ylab("Daily income (international-$, log-axis) ") +
theme_bw() +
theme(legend.title = element_blank(),
) +
annotate("rect", xmin=0, xmax=100, ymin=log(5), ymax=log(20), alpha=0.2, fill="grey")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
df<- read.csv("full_distribution.csv")
df<- df %>%
pivot_longer(
cols = !c(CountryName, RequestYear),
names_to = "percentile",
names_prefix = "P",
names_transform = list(percentile = as.numeric),
values_to = "daily_income_or_consumption"
)
head(df)
perc_keep<- seq(1,99,1) # The set of fractiles to keep
df<- df %>%
filter(percentile %in% perc_keep)
df<- df %>%
group_by(CountryName, RequestYear) %>%
mutate(lag_inc=lag(daily_income_or_consumption)) %>%
mutate(bin_width = daily_income_or_consumption - lag_inc)
df<- df %>%group_by(CountryName, RequestYear) %>%
mutate(lag_percentile=lag(percentile)) %>%
mutate(percentile_step = percentile - lag_percentile,
bin_area = percentile_step/100)
df<- df %>%
group_by(CountryName, RequestYear) %>%
mutate(density = 1/bin_width) %>% # For linear scale
mutate(density_for_logs = density * daily_income_or_consumption) # For log scale
df<- df %>%
group_by(CountryName, RequestYear) %>%
mutate(midpoint_inc = (lag_inc + daily_income_or_consumption)/2)
unique(df$CountryName)
select_countries<- c("Sub-Saharan Africa", "Other high Income")
select_years<- c(1981, 2019)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
# tick marks
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot(selected_data,
aes(x=log(midpoint_inc), y = density_for_logs, colour = as.factor(CountryName)))+
geom_point() +
geom_line() +
facet_wrap(~RequestYear) +
scale_x_continuous(breaks=axis_breaks,
labels = axis_labels) +
theme_bw() +
theme(legend.title = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank())
View(df)
View(selected_data)
select_countries<- c("Kenya", "Other high Income")
select_years<- c(1981, 2019)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
# tick marks
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot(selected_data,
aes(x=log(midpoint_inc), y = density_for_logs, colour = as.factor(CountryName)))+
geom_point() +
geom_line() +
facet_wrap(~RequestYear) +
scale_x_continuous(breaks=axis_breaks,
labels = axis_labels) +
theme_bw() +
theme(legend.title = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank())
select_countries<- c("Kenya", "Other high Income")
select_years<- c(2019)
selected_data<- df %>%
filter(CountryName %in% select_countries,
RequestYear  %in% select_years)
# tick marks
axis_breaks<- log(c(0.5, 1, 2, 5, 10, 20, 50, 100))
axis_labels<- c("$0.5", "$1", "$2", "$5", "$10", "$20", "$50", "$100")
ggplot(selected_data,
aes(x=log(midpoint_inc), y = density_for_logs, colour = as.factor(CountryName)))+
geom_point() +
geom_line() +
facet_wrap(~RequestYear) +
scale_x_continuous(breaks=axis_breaks,
labels = axis_labels) +
theme_bw() +
theme(legend.title = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank())
